import{v as ee}from"./v4.90f1a8cc.js";import{i as ne}from"./tokenCredential.b04f4687.js";function G(n){return n.toLowerCase()}function It(n){return!n||typeof n!="object"?!1:typeof n.rawHeaders=="function"&&typeof n.clone=="function"&&typeof n.get=="function"&&typeof n.set=="function"&&typeof n.contains=="function"&&typeof n.remove=="function"&&typeof n.headersArray=="function"&&typeof n.headerValues=="function"&&typeof n.headerNames=="function"&&typeof n.toJson=="function"}var Z=function(){function n(t){if(this._headersMap={},t)for(var e in t)this.set(e,t[e])}return n.prototype.set=function(t,e){this._headersMap[G(t)]={name:t,value:e.toString()}},n.prototype.get=function(t){var e=this._headersMap[G(t)];return e?e.value:void 0},n.prototype.contains=function(t){return!!this._headersMap[G(t)]},n.prototype.remove=function(t){var e=this.contains(t);return delete this._headersMap[G(t)],e},n.prototype.rawHeaders=function(){var t={};for(var e in this._headersMap){var r=this._headersMap[e];t[r.name.toLowerCase()]=r.value}return t},n.prototype.headersArray=function(){var t=[];for(var e in this._headersMap)t.push(this._headersMap[e]);return t},n.prototype.headerNames=function(){for(var t=[],e=this.headersArray(),r=0;r<e.length;++r)t.push(e[r].name);return t},n.prototype.headerValues=function(){for(var t=[],e=this.headersArray(),r=0;r<e.length;++r)t.push(e[r].value);return t},n.prototype.toJson=function(){return this.rawHeaders()},n.prototype.toString=function(){return JSON.stringify(this.toJson())},n.prototype.clone=function(){return new n(this.rawHeaders())},n}();function Dt(n){for(var t="",e=0;e<n.length;e++)t+=String.fromCharCode(n[e]);return btoa(t)}function Lt(n){for(var t=atob(n),e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}var K={msRestVersion:"2.6.4",HTTP:"http:",HTTPS:"https:",HTTP_PROXY:"HTTP_PROXY",HTTPS_PROXY:"HTTPS_PROXY",NO_PROXY:"NO_PROXY",ALL_PROXY:"ALL_PROXY",HttpConstants:{HttpVerbs:{PUT:"PUT",GET:"GET",DELETE:"DELETE",POST:"POST",MERGE:"MERGE",HEAD:"HEAD",PATCH:"PATCH"},StatusCodes:{TooManyRequests:429}},HeaderConstants:{AUTHORIZATION:"authorization",AUTHORIZATION_SCHEME:"Bearer",RETRY_AFTER:"Retry-After",USER_AGENT:"User-Agent"}};typeof process!="undefined"&&!!process.version&&!!process.versions&&process.versions.node;function Ot(n){var t={};return t.body=n.bodyAsText,t.headers=n.headers,t.status=n.status,t}function bt(n){var t=n.clone();return t.headers&&t.headers.remove("authorization"),t}function re(n){var t=new RegExp("^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$","ig");return t.test(n)}function V(){return ee()}function j(n,t){return new Promise(function(e){return setTimeout(function(){return e(t)},n)})}function ie(n,t){var e;return Array.isArray(n)||(n=[n]),e={},e[t]=n,e}var se=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function oe(n){return se.test(n)}function X(n,t,e){return!n||!t?n:n.split(t).join(e||"")}function fe(n){return typeof n!="object"&&typeof n!="function"||n===null}var ue=function(){function n(t,e){t===void 0&&(t={}),this.modelMappers=t,this.isXML=e}return n.prototype.validateConstraints=function(t,e,r){var i=function(g,m){throw new Error('"'+r+'" with value "'+e+'" should satisfy the constraint "'+g+'": '+m+".")};if(t.constraints&&e!=null){var s=t.constraints,o=s.ExclusiveMaximum,u=s.ExclusiveMinimum,a=s.InclusiveMaximum,f=s.InclusiveMinimum,l=s.MaxItems,h=s.MaxLength,v=s.MinItems,y=s.MinLength,d=s.MultipleOf,c=s.Pattern,E=s.UniqueItems;if(o!=null&&e>=o&&i("ExclusiveMaximum",o),u!=null&&e<=u&&i("ExclusiveMinimum",u),a!=null&&e>a&&i("InclusiveMaximum",a),f!=null&&e<f&&i("InclusiveMinimum",f),l!=null&&e.length>l&&i("MaxItems",l),h!=null&&e.length>h&&i("MaxLength",h),v!=null&&e.length<v&&i("MinItems",v),y!=null&&e.length<y&&i("MinLength",y),d!=null&&e%d!==0&&i("MultipleOf",d),c){var T=typeof c=="string"?new RegExp(c):c;(typeof e!="string"||e.match(T)===null)&&i("Pattern",c)}E&&e.some(function(g,m,A){return A.indexOf(g)!==m})&&i("UniqueItems",E)}},n.prototype.serialize=function(t,e,r){var i={},s=t.type.name;r||(r=t.serializedName),s.match(/^Sequence$/gi)!==null&&(i=[]),t.isConstant&&(e=t.defaultValue);var o=t.required,u=t.nullable;if(o&&u&&e===void 0)throw new Error(r+" cannot be undefined.");if(o&&!u&&e==null)throw new Error(r+" cannot be null or undefined.");if(!o&&u===!1&&e===null)throw new Error(r+" cannot be null.");if(e==null)i=e;else if(this.validateConstraints(t,e,r),s.match(/^any$/gi)!==null)i=e;else if(s.match(/^(Number|String|Boolean|Object|Stream|Uuid)$/gi)!==null)i=ve(s,r,e);else if(s.match(/^Enum$/gi)!==null){var a=t;i=ye(r,a.type.allowedValues,e)}else s.match(/^(Date|DateTime|TimeSpan|DateTimeRfc1123|UnixTime)$/gi)!==null?i=Te(s,e,r):s.match(/^ByteArray$/gi)!==null?i=ge(r,e):s.match(/^Base64Url$/gi)!==null?i=Ee(r,e):s.match(/^Sequence$/gi)!==null?i=me(this,t,e,r):s.match(/^Dictionary$/gi)!==null?i=we(this,t,e,r):s.match(/^Composite$/gi)!==null&&(i=Re(this,t,e,r));return i},n.prototype.deserialize=function(t,e,r){if(e==null)return this.isXML&&t.type.name==="Sequence"&&!t.xmlIsWrapped&&(e=[]),t.defaultValue!==void 0&&(e=t.defaultValue),e;var i,s=t.type.name;return r||(r=t.serializedName),s.match(/^Composite$/gi)!==null?i=Oe(this,t,e,r):(this.isXML&&e.$!=null&&e._!=null&&(e=e._),s.match(/^Number$/gi)!==null?(i=parseFloat(e),isNaN(i)&&(i=e)):s.match(/^Boolean$/gi)!==null?e==="true"?i=!0:e==="false"?i=!1:i=e:s.match(/^(String|Enum|Object|Stream|Uuid|TimeSpan|any)$/gi)!==null?i=e:s.match(/^(Date|DateTime|DateTimeRfc1123)$/gi)!==null?i=new Date(e):s.match(/^UnixTime$/gi)!==null?i=he(e):s.match(/^ByteArray$/gi)!==null?i=Lt(e):s.match(/^Base64Url$/gi)!==null?i=de(e):s.match(/^Sequence$/gi)!==null?i=Se(this,t,e,r):s.match(/^Dictionary$/gi)!==null&&(i=be(this,t,e,r))),t.isConstant&&(i=t.defaultValue),i},n}();function ae(n,t){for(var e=n.length;e-1>=0&&n[e-1]===t;)--e;return n.substr(0,e)}function le(n){if(!!n){if(!(n instanceof Uint8Array))throw new Error("Please provide an input of type Uint8Array for converting to Base64Url.");var t=Dt(n);return ae(t,"=").replace(/\+/g,"-").replace(/\//g,"_")}}function de(n){if(!!n){if(n&&typeof n.valueOf()!="string")throw new Error("Please provide an input of type string for converting to Uint8Array");return n=n.replace(/\-/g,"+").replace(/\_/g,"/"),Lt(n)}}function at(n){var t=[],e="";if(n)for(var r=n.split("."),i=0,s=r;i<s.length;i++){var o=s[i];o.charAt(o.length-1)==="\\"?e+=o.substr(0,o.length-1)+".":(e+=o,t.push(e),e="")}return t}function ce(n){if(!!n)return typeof n.valueOf()=="string"&&(n=new Date(n)),Math.floor(n.getTime()/1e3)}function he(n){if(!!n)return new Date(n*1e3)}function ve(n,t,e){if(e!=null){if(n.match(/^Number$/gi)!==null){if(typeof e!="number")throw new Error(t+" with value "+e+" must be of type number.")}else if(n.match(/^String$/gi)!==null){if(typeof e.valueOf()!="string")throw new Error(t+' with value "'+e+'" must be of type string.')}else if(n.match(/^Uuid$/gi)!==null){if(!(typeof e.valueOf()=="string"&&re(e)))throw new Error(t+' with value "'+e+'" must be of type string and a valid uuid.')}else if(n.match(/^Boolean$/gi)!==null){if(typeof e!="boolean")throw new Error(t+" with value "+e+" must be of type boolean.")}else if(n.match(/^Stream$/gi)!==null){var r=typeof e;if(r!=="string"&&r!=="function"&&!(e instanceof ArrayBuffer)&&!ArrayBuffer.isView(e)&&!(typeof Blob=="function"&&e instanceof Blob))throw new Error(t+" must be a string, Blob, ArrayBuffer, ArrayBufferView, or a function returning NodeJS.ReadableStream.")}}return e}function ye(n,t,e){if(!t)throw new Error("Please provide a set of allowedValues to validate "+n+" as an Enum Type.");var r=t.some(function(i){return typeof i.valueOf()=="string"?i.toLowerCase()===e.toLowerCase():i===e});if(!r)throw new Error(e+" is not a valid value for "+n+". The valid values are: "+JSON.stringify(t)+".");return e}function ge(n,t){if(t!=null){if(!(t instanceof Uint8Array))throw new Error(n+" must be of type Uint8Array.");t=Dt(t)}return t}function Ee(n,t){if(t!=null){if(!(t instanceof Uint8Array))throw new Error(n+" must be of type Uint8Array.");t=le(t)}return t}function Te(n,t,e){if(t!=null){if(n.match(/^Date$/gi)!==null){if(!(t instanceof Date||typeof t.valueOf()=="string"&&!isNaN(Date.parse(t))))throw new Error(e+" must be an instanceof Date or a string in ISO8601 format.");t=t instanceof Date?t.toISOString().substring(0,10):new Date(t).toISOString().substring(0,10)}else if(n.match(/^DateTime$/gi)!==null){if(!(t instanceof Date||typeof t.valueOf()=="string"&&!isNaN(Date.parse(t))))throw new Error(e+" must be an instanceof Date or a string in ISO8601 format.");t=t instanceof Date?t.toISOString():new Date(t).toISOString()}else if(n.match(/^DateTimeRfc1123$/gi)!==null){if(!(t instanceof Date||typeof t.valueOf()=="string"&&!isNaN(Date.parse(t))))throw new Error(e+" must be an instanceof Date or a string in RFC-1123 format.");t=t instanceof Date?t.toUTCString():new Date(t).toUTCString()}else if(n.match(/^UnixTime$/gi)!==null){if(!(t instanceof Date||typeof t.valueOf()=="string"&&!isNaN(Date.parse(t))))throw new Error(e+" must be an instanceof Date or a string in RFC-1123/ISO8601 format for it to be serialized in UnixTime/Epoch format.");t=ce(t)}else if(n.match(/^TimeSpan$/gi)!==null){if(!oe(t))throw new Error(e+' must be a string in ISO 8601 format. Instead was "'+t+'".');t=t}}return t}function me(n,t,e,r){if(!Array.isArray(e))throw new Error(r+" must be of type Array.");var i=t.type.element;if(!i||typeof i!="object")throw new Error('element" metadata for an Array must be defined in the '+('mapper and it must of type "object" in '+r+"."));for(var s=[],o=0;o<e.length;o++)s[o]=n.serialize(i,e[o],r);return s}function we(n,t,e,r){if(typeof e!="object")throw new Error(r+" must be of type object.");var i=t.type.value;if(!i||typeof i!="object")throw new Error('"value" metadata for a Dictionary must be defined in the '+('mapper and it must of type "object" in '+r+"."));for(var s={},o=0,u=Object.keys(e);o<u.length;o++){var a=u[o];s[a]=n.serialize(i,e[a],r+"."+a)}return s}function Ft(n,t,e){var r=t.type.modelProperties;if(!r){var i=t.type.className;if(!i)throw new Error('Class name for model "'+e+'" is not provided in the mapper "'+JSON.stringify(t,void 0,2)+'".');var s=n.modelMappers[i];if(!s)throw new Error('mapper() cannot be null or undefined for model "'+i+'".');if(r=s.type.modelProperties,!r)throw new Error("modelProperties cannot be null or undefined in the "+('mapper "'+JSON.stringify(s)+'" of type "'+i+'" for object "'+e+'".'))}return r}function Re(n,t,e,r){var i;if(J(n,t)&&(t=Nt(n,t,e,"clientName")),e!=null){for(var s={},o=Ft(n,t,r),u=0,a=Object.keys(o);u<a.length;u++){var f=a[u],l=o[f];if(!l.readOnly){var h=void 0,v=s;if(n.isXML)l.xmlIsWrapped?h=l.xmlName:h=l.xmlElementName||l.xmlName;else{var y=at(l.serializedName);h=y.pop();for(var d=0,c=y;d<c.length;d++){var E=c[d],T=v[E];T==null&&e[f]!=null&&(v[E]={}),v=v[E]}}if(v!=null){var g=l.serializedName!==""?r+"."+l.serializedName:r,m=e[f],A=J(n,t);A&&A.clientName===f&&m==null&&(m=t.serializedName);var O=n.serialize(l,m,g);O!==void 0&&h!=null&&(l.xmlIsAttribute?(v.$=v.$||{},v.$[h]=O):l.xmlIsWrapped?v[h]=(i={},i[l.xmlElementName]=O,i):v[h]=O)}}}var w=t.type.additionalProperties;if(w){var $=Object.keys(o),b=function(U){var R=$.every(function(q){return q!==U});R&&(s[U]=n.serialize(w,e[U],r+'["'+U+'"]'))};for(var H in e)b(H)}return s}return e}function Ae(n){return["$","_"].includes(n)}function Oe(n,t,e,r){J(n,t)&&(t=Nt(n,t,e,"serializedName"));for(var i=Ft(n,t,r),s={},o=[],u=0,a=Object.keys(i);u<a.length;u++){var f=a[u],l=i[f],h=at(i[f].serializedName);o.push(h[0]);var v=l.serializedName,y=l.xmlName,d=l.xmlElementName,c=r;v!==""&&v!==void 0&&(c=r+"."+v);var E=l.headerCollectionPrefix;if(E){for(var T={},g=0,m=Object.keys(e);g<m.length;g++){var A=m[g];A.startsWith(E)&&(T[A.substring(E.length)]=n.deserialize(l.type.value,e[A],c)),o.push(A)}s[f]=T}else if(n.isXML)if(l.xmlIsAttribute&&e.$)s[f]=n.deserialize(l,e.$[y],c);else{var O=d||y||v,w=e[O];if(l.xmlIsWrapped){w=e[y],w=w&&w[d];var $=w===void 0;$&&(w=[])}s[f]=n.deserialize(l,w,c)}else{for(var b=void 0,H=e,U=0,R=h;U<R.length;U++){var q=R[U];if(!H)break;H=H[q]}b=H;var p=t.type.polymorphicDiscriminator;p&&f===p.clientName&&b==null&&(b=t.serializedName);var S=void 0;if(Array.isArray(e[f])&&i[f].serializedName===""){b=e[f];for(var nt=n.deserialize(l,b,c),rt=0,Tt=Object.entries(s);rt<Tt.length;rt++){var mt=Tt[rt],wt=mt[0],Zt=mt[1];nt.hasOwnProperty(wt)||(nt[wt]=Zt)}s=nt}else(b!==void 0||l.defaultValue!==void 0)&&(S=n.deserialize(l,b,c),s[f]=S)}}var Rt=t.type.additionalProperties;if(Rt){var Kt=function(Vt){for(var jt in i){var te=at(i[jt].serializedName);if(te[0]===Vt)return!1}return!0};for(var z in e)Kt(z)&&(s[z]=n.deserialize(Rt,e[z],r+'["'+z+'"]'))}else if(e)for(var it=0,At=Object.keys(e);it<At.length;it++){var f=At[it];s[f]===void 0&&!o.includes(f)&&!Ae(f)&&(s[f]=e[f])}return s}function be(n,t,e,r){var i=t.type.value;if(!i||typeof i!="object")throw new Error('"value" metadata for a Dictionary must be defined in the '+('mapper and it must of type "object" in '+r));if(e){for(var s={},o=0,u=Object.keys(e);o<u.length;o++){var a=u[o];s[a]=n.deserialize(i,e[a],r)}return s}return e}function Se(n,t,e,r){var i=t.type.element;if(!i||typeof i!="object")throw new Error('element" metadata for an Array must be defined in the '+('mapper and it must of type "object" in '+r));if(e){Array.isArray(e)||(e=[e]);for(var s=[],o=0;o<e.length;o++)s[o]=n.deserialize(i,e[o],r+"["+o+"]");return s}return e}function Nt(n,t,e,r){var i=J(n,t);if(i){var s=i[r];if(s!=null){var o=e[s];if(o!=null){var u=t.type.uberParent||t.type.className,a=o===u?o:u+"."+o,f=n.modelMappers.discriminators[a];f&&(t=f)}}}return t}function J(n,t){return t.type.polymorphicDiscriminator||St(n,t.type.uberParent)||St(n,t.type.className)}function St(n,t){return t&&n.modelMappers[t]&&n.modelMappers[t].type.polymorphicDiscriminator}function _e(n){for(var t={},e=0,r=n;e<r.length;e++){var i=r[e];t[i]=i}return t}var W=_e(["Base64Url","Boolean","ByteArray","Composite","Date","DateTime","DateTimeRfc1123","Dictionary","Enum","Number","Object","Sequence","String","Stream","TimeSpan","UnixTime"]);function Pe(n){return typeof n!="object"?!1:!!(typeof n.url=="string"&&typeof n.method=="string"&&typeof n.headers=="object"&&It(n.headers)&&typeof n.validateRequestProperties=="function"&&typeof n.prepare=="function"&&typeof n.clone=="function")}var _t=function(){function n(t,e,r,i,s,o,u,a,f,l,h,v,y,d,c){this.streamResponseBody=o,this.url=t||"",this.method=e||"GET",this.headers=It(s)?s:new Z(s),this.body=r,this.query=i,this.formData=void 0,this.withCredentials=u||!1,this.abortSignal=a,this.timeout=f||0,this.onUploadProgress=l,this.onDownloadProgress=h,this.proxySettings=v,this.keepAlive=y,this.agentSettings=d,this.redirectLimit=c}return n.prototype.validateRequestProperties=function(){if(!this.method)throw new Error("WebResource.method is required.");if(!this.url)throw new Error("WebResource.url is required.")},n.prototype.prepare=function(t){if(!t)throw new Error("options object is required");if(t.method==null||typeof t.method.valueOf()!="string")throw new Error("options.method must be a string.");if(t.url&&t.pathTemplate)throw new Error("options.url and options.pathTemplate are mutually exclusive. Please provide exactly one of them.");if((t.pathTemplate==null||typeof t.pathTemplate.valueOf()!="string")&&(t.url==null||typeof t.url.valueOf()!="string"))throw new Error("Please provide exactly one of options.pathTemplate or options.url.");if(t.url){if(typeof t.url!="string")throw new Error('options.url must be of type "string".');this.url=t.url}if(t.method){var e=["GET","PUT","HEAD","DELETE","OPTIONS","POST","PATCH","TRACE"];if(e.indexOf(t.method.toUpperCase())===-1)throw new Error('The provided method "'+t.method+'" is invalid. Supported HTTP methods are: '+JSON.stringify(e))}if(this.method=t.method.toUpperCase(),t.pathTemplate){var r=t.pathTemplate,i=t.pathParameters;if(typeof r!="string")throw new Error('options.pathTemplate must be of type "string".');t.baseUrl||(t.baseUrl="https://management.azure.com");var s=t.baseUrl,o=s+(s.endsWith("/")?"":"/")+(r.startsWith("/")?r.slice(1):r),u=o.match(/({\w*\s*\w*})/gi);if(u&&u.length){if(!i)throw new Error("pathTemplate: "+r+" has been provided. Hence, options.pathParameters must also be provided.");u.forEach(function(E){var T=E.slice(1,-1),g=i[T];if(g==null||!(typeof g=="string"||typeof g=="object"))throw new Error("pathTemplate: "+r+" contains the path parameter "+T+(" however, it is not present in "+i+" - "+JSON.stringify(i,void 0,2)+".")+('The value of the path parameter can either be a "string" of the form { '+T+': "some sample value" } or ')+('it can be an "object" of the form { "'+T+'": { value: "some sample value", skipUrlEncoding: true } }.'));if(typeof g.valueOf()=="string"&&(o=o.replace(E,encodeURIComponent(g))),typeof g.valueOf()=="object"){if(!g.value)throw new Error("options.pathParameters["+T+'] is of type "object" but it does not contain a "value" property.');g.skipUrlEncoding?o=o.replace(E,g.value):o=o.replace(E,encodeURIComponent(g.value))}})}this.url=o}if(t.queryParameters){var a=t.queryParameters;if(typeof a!="object")throw new Error('options.queryParameters must be of type object. It should be a JSON object of "query-parameter-name" as the key and the "query-parameter-value" as the value. The "query-parameter-value" may be fo type "string" or an "object" of the form { value: "query-parameter-value", skipUrlEncoding: true }.');this.url&&this.url.indexOf("?")===-1&&(this.url+="?");var f=[];this.query={};for(var l in a){var h=a[l];if(h){if(typeof h=="string")f.push(l+"="+encodeURIComponent(h)),this.query[l]=encodeURIComponent(h);else if(typeof h=="object"){if(!h.value)throw new Error("options.queryParameters["+l+'] is of type "object" but it does not contain a "value" property.');h.skipUrlEncoding?(f.push(l+"="+h.value),this.query[l]=h.value):(f.push(l+"="+encodeURIComponent(h.value)),this.query[l]=encodeURIComponent(h.value))}}}this.url+=f.join("&")}if(t.headers)for(var v=t.headers,y=0,d=Object.keys(t.headers);y<d.length;y++){var c=d[y];this.headers.set(c,v[c])}return this.headers.get("accept-language")||this.headers.set("accept-language","en-US"),!this.headers.get("x-ms-client-request-id")&&!t.disableClientRequestId&&this.headers.set("x-ms-client-request-id",V()),this.headers.get("Content-Type")||this.headers.set("Content-Type","application/json; charset=utf-8"),this.body=t.body,t.body!=null&&(t.bodyIsStream?(this.headers.get("Transfer-Encoding")||this.headers.set("Transfer-Encoding","chunked"),this.headers.get("Content-Type")!=="application/octet-stream"&&this.headers.set("Content-Type","application/octet-stream")):(t.serializationMapper&&(this.body=new ue(t.mappers).serialize(t.serializationMapper,t.body,"requestBody")),t.disableJsonStringifyOnBody||(this.body=JSON.stringify(t.body)))),this.abortSignal=t.abortSignal,this.onDownloadProgress=t.onDownloadProgress,this.onUploadProgress=t.onUploadProgress,this.redirectLimit=t.redirectLimit,this.streamResponseBody=t.streamResponseBody,this},n.prototype.clone=function(){var t=new n(this.url,this.method,this.body,this.query,this.headers&&this.headers.clone(),this.streamResponseBody,this.withCredentials,this.abortSignal,this.timeout,this.onUploadProgress,this.onDownloadProgress,this.proxySettings,this.keepAlive,this.agentSettings,this.redirectLimit);return this.formData&&(t.formData=this.formData),this.operationSpec&&(t.operationSpec=this.operationSpec),this.shouldDeserialize&&(t.shouldDeserialize=this.shouldDeserialize),this.operationResponseGetter&&(t.operationResponseGetter=this.operationResponseGetter),t},n}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lt=function(n,t){return lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},lt(n,t)};function C(n,t){lt(n,t);function e(){this.constructor=n}n.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}var _=function(){return _=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++){e=arguments[r];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},_.apply(this,arguments)};function Q(n,t,e,r){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function u(l){try{f(r.next(l))}catch(h){o(h)}}function a(l){try{f(r.throw(l))}catch(h){o(h)}}function f(l){l.done?s(l.value):i(l.value).then(u,a)}f((r=r.apply(n,t||[])).next())})}function B(n,t){var e={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(l){return a([f,l])}}function a(f){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,i=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(s=e.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){e.label=f[1];break}if(f[0]===6&&e.label<s[1]){e.label=s[1],s=f;break}if(s&&e.label<s[2]){e.label=s[2],e.ops.push(f);break}s[2]&&e.ops.pop(),e.trys.pop();continue}f=t.call(n,e)}catch(l){f=[6,l],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Ce(){for(var n=0,t=0,e=arguments.length;t<e;t++)n+=arguments[t].length;for(var r=Array(n),i=0,t=0;t<e;t++)for(var s=arguments[t],o=0,u=s.length;o<u;o++,i++)r[i]=s[o];return r}var P=function(n){C(t,n);function t(e,r,i,s,o,u){var a=n.call(this,e)||this;return a.code=r,a.statusCode=i,a.request=s,a.response=o,a.body=u,Object.setPrototypeOf(a,t.prototype),a}return t.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR",t.REQUEST_ABORTED_ERROR="REQUEST_ABORTED_ERROR",t.PARSE_ERROR="PARSE_ERROR",t}(Error),Ue=function(){function n(){}return n.prototype.sendRequest=function(t){var e=new XMLHttpRequest;if(t.agentSettings)throw new Error("HTTP agent settings not supported in browser environment");if(t.proxySettings)throw new Error("HTTP proxy is not supported in browser environment");var r=t.abortSignal;if(r){var i=function(){e.abort()};r.addEventListener("abort",i),e.addEventListener("readystatechange",function(){e.readyState===XMLHttpRequest.DONE&&r.removeEventListener("abort",i)})}if(Pt(e.upload,t.onUploadProgress),Pt(e,t.onDownloadProgress),t.formData){for(var s=t.formData,o=new FormData,u=function(T,g){g&&g.hasOwnProperty("value")&&g.hasOwnProperty("options")?o.append(T,g.value,g.options):o.append(T,g)},a=0,f=Object.keys(s);a<f.length;a++){var l=f[a],h=s[l];if(Array.isArray(h))for(var v=0;v<h.length;v++)u(l,h[v]);else u(l,h)}t.body=o,t.formData=void 0;var y=t.headers.get("Content-Type");y&&y.indexOf("multipart/form-data")!==-1&&t.headers.remove("Content-Type")}e.open(t.method,t.url),e.timeout=t.timeout,e.withCredentials=t.withCredentials;for(var d=0,c=t.headers.headersArray();d<c.length;d++){var E=c[d];e.setRequestHeader(E.name,E.value)}return e.responseType=t.streamResponseBody?"blob":"text",e.send(t.body===void 0?null:t.body),t.streamResponseBody?new Promise(function(T,g){e.addEventListener("readystatechange",function(){if(e.readyState===XMLHttpRequest.HEADERS_RECEIVED){var m=new Promise(function(A,O){e.addEventListener("load",function(){A(e.response)}),st(t,e,O)});T({request:t,status:e.status,headers:Ct(e),blobBody:m})}}),st(t,e,g)}):new Promise(function(T,g){e.addEventListener("load",function(){return T({request:t,status:e.status,headers:Ct(e),bodyAsText:e.responseText})}),st(t,e,g)})},n}();function Pt(n,t){t&&n.addEventListener("progress",function(e){return t({loadedBytes:e.loaded})})}function Ct(n){for(var t=new Z,e=n.getAllResponseHeaders().trim().split(/[\r\n]+/),r=0,i=e;r<i.length;r++){var s=i[r],o=s.indexOf(":"),u=s.slice(0,o),a=s.slice(o+2);t.set(u,a)}return t}function st(n,t,e){t.addEventListener("error",function(){return e(new P("Failed to send request to "+n.url,P.REQUEST_SEND_ERROR,void 0,n))}),t.addEventListener("abort",function(){return e(new P("The request was aborted",P.REQUEST_ABORTED_ERROR,void 0,n))}),t.addEventListener("timeout",function(){return e(new P("timeout of "+t.timeout+"ms exceeded",P.REQUEST_SEND_ERROR,void 0,n))})}var dt;(function(n){n[n.OFF=0]="OFF",n[n.ERROR=1]="ERROR",n[n.WARNING=2]="WARNING",n[n.INFO=3]="INFO"})(dt||(dt={}));function I(n){return ct(n.parameterPath,n.mapper)}function ct(n,t){var e;return typeof n=="string"?e=n:Array.isArray(n)?e=n.join("."):e=t.serializedName,e}function Mt(n){var t=!1;for(var e in n.responses){var r=n.responses[e];if(r.bodyMapper&&r.bodyMapper.type.name===W.Stream){t=!0;break}}return t}var ot,ft,$t=new DOMParser,M;try{typeof self.trustedTypes!="undefined"&&(M=self.trustedTypes.createPolicy("@azure/ms-rest-js#xml.browser",{createHTML:function(n){return n}}))}catch{console.warn('Could not create trusted types policy "@azure/ms-rest-js#xml.browser"')}function xe(n){var t;try{var e=$t.parseFromString((t=M==null?void 0:M.createHTML(n))!==null&&t!==void 0?t:n,"application/xml");Ie(e);var r=qt(e.childNodes[0]);return Promise.resolve(r)}catch(i){return Promise.reject(i)}}var ht="";try{var He=(ot=M==null?void 0:M.createHTML("INVALID"))!==null&&ot!==void 0?ot:"INVALID";ht=(ft=$t.parseFromString(He,"text/xml").getElementsByTagName("parsererror")[0].namespaceURI)!==null&&ft!==void 0?ft:""}catch{}function Ie(n){if(ht){var t=n.getElementsByTagNameNS(ht,"parsererror");if(t.length)throw new Error(t.item(0).innerHTML)}}function De(n){return!!n.attributes}function Le(n){return De(n)&&n.hasAttributes()?n:void 0}function qt(n){var t={},e=n.childNodes.length,r=n.childNodes[0],i=r&&e===1&&r.nodeType===Node.TEXT_NODE&&r.nodeValue||void 0,s=Le(n);if(s){t.$={};for(var o=0;o<s.attributes.length;o++){var u=s.attributes[o];t.$[u.nodeName]=u.nodeValue}i&&(t._=i)}else e===0?t="":i&&(t=i);if(!i)for(var o=0;o<e;o++){var a=n.childNodes[o];if(a.nodeType!==Node.TEXT_NODE){var f=qt(a);t[a.nodeName]?Array.isArray(t[a.nodeName])?t[a.nodeName].push(f):t[a.nodeName]=[t[a.nodeName],f]:t[a.nodeName]=f}}return t}var vt=document.implementation.createDocument(null,null,null),Fe=new XMLSerializer;function Ut(n,t){var e=t&&t.rootName||"root",r=yt(n,e)[0];return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?>'+Fe.serializeToString(r)}function Ne(n){for(var t=[],e=0,r=Object.keys(n);e<r.length;e++){var i=r[e],s=vt.createAttribute(i);s.value=n[i].toString(),t.push(s)}return t}function yt(n,t){if(typeof n=="string"||typeof n=="number"||typeof n=="boolean"){var e=vt.createElement(t);return e.textContent=n.toString(),[e]}else if(Array.isArray(n)){for(var r=[],i=0,s=n;i<s.length;i++)for(var o=s[i],u=0,a=yt(o,t);u<a.length;u++){var f=a[u];r.push(f)}return r}else if(typeof n=="object"){for(var e=vt.createElement(t),l=0,h=Object.keys(n);l<h.length;l++){var v=h[l];if(v==="$")for(var y=0,d=Ne(n[v]);y<d.length;y++){var c=d[y];e.attributes.setNamedItem(c)}else for(var E=0,T=yt(n[v],v);E<T.length;E++){var f=T[E];e.appendChild(f)}}return[e]}else throw new Error("Illegal value passed to buildObject: "+n)}var x=function(){function n(t,e){this._nextPolicy=t,this._options=e}return n.prototype.shouldLog=function(t){return this._options.shouldLog(t)},n.prototype.log=function(t,e){this._options.log(t,e)},n}(),Me=function(){function n(t){this._logger=t}return n.prototype.shouldLog=function(t){return!!this._logger&&t!==dt.OFF&&t<=this._logger.minimumLogLevel},n.prototype.log=function(t,e){this._logger&&this.shouldLog(t)&&this._logger.log(t,e)},n}();function $e(n){return{create:function(t,e){return new Qe(t,n,e)}}}var qe=["application/json","text/json"],pe=["application/xml","application/atom+xml"],Qe=function(n){C(t,n);function t(e,r,i){var s=n.call(this,e,i)||this;return s.jsonContentTypes=r&&r.json||qe,s.xmlContentTypes=r&&r.xml||pe,s}return t.prototype.sendRequest=function(e){return Q(this,void 0,void 0,function(){var r=this;return B(this,function(i){return[2,this._nextPolicy.sendRequest(e).then(function(s){return Ye(r.jsonContentTypes,r.xmlContentTypes,s)})]})})},t}(x);function Be(n){var t,e=n.request,r=e.operationSpec;if(r){var i=e.operationResponseGetter;i?t=i(r,n):t=r.responses[n.status]}return t}function Xe(n){var t=n.request.shouldDeserialize,e;return t===void 0?e=!0:typeof t=="boolean"?e=t:e=t(n),e}function Ye(n,t,e){return We(n,t,e).then(function(r){var i=Xe(r);if(i){var s=r.request.operationSpec;if(s&&s.responses){var o=r.status,u=Object.keys(s.responses),a=u.length===0||u.length===1&&u[0]==="default",f=Be(r),l=a?200<=o&&o<300:!!f;if(l){if(f){if(f.bodyMapper){var T=r.parsedBody;s.isXML&&f.bodyMapper.type.name===W.Sequence&&(T=typeof T=="object"?T[f.bodyMapper.xmlElementName]:[]);try{r.parsedBody=s.serializer.deserialize(f.bodyMapper,T,"operationRes.parsedBody")}catch(A){var g=new P("Error "+A+" occurred in deserializing the responseBody - "+r.bodyAsText);return g.request=bt(r.request),g.response=Ot(r),Promise.reject(g)}}else s.httpMethod==="HEAD"&&(r.parsedBody=e.status>=200&&e.status<300);f.headersMapper&&(r.parsedHeaders=s.serializer.deserialize(f.headersMapper,r.headers.rawHeaders(),"operationRes.parsedHeaders"))}}else{var h=s.responses.default;if(h){var v=Mt(s)?"Unexpected status code: "+o:r.bodyAsText,y=new P(v);y.statusCode=o,y.request=bt(r.request),y.response=Ot(r);var d=r.parsedBody;try{if(d){var c=h.bodyMapper;if(c&&c.serializedName==="CloudError")d.error&&(d=d.error),d.code&&(y.code=d.code),d.message&&(y.message=d.message);else{var E=d;d.error&&(E=d.error),y.code=E.code,E.message&&(y.message=E.message)}if(c){var T=d;s.isXML&&c.type.name===W.Sequence&&(T=typeof d=="object"?d[c.xmlElementName]:[]),y.body=s.serializer.deserialize(c,T,"error.body")}}}catch(m){y.message='Error "'+m.message+'" occurred in deserializing the responseBody - "'+r.bodyAsText+'" for the default response.'}return Promise.reject(y)}}}}return Promise.resolve(r)})}function We(n,t,e){var r=function(u){var a='Error "'+u+'" occurred while parsing the response body - '+e.bodyAsText+".",f=u.code||P.PARSE_ERROR,l=new P(a,f,e.status,e.request,e,e.bodyAsText);return Promise.reject(l)};if(!e.request.streamResponseBody&&e.bodyAsText){var i=e.bodyAsText,s=e.headers.get("Content-Type")||"",o=s?s.split(";").map(function(u){return u.toLowerCase()}):[];if(o.length===0||o.some(function(u){return n.indexOf(u)!==-1}))return new Promise(function(u){e.parsedBody=JSON.parse(i),u(e)}).catch(r);if(o.some(function(u){return t.indexOf(u)!==-1}))return xe(i).then(function(u){return e.parsedBody=u,e}).catch(r)}return Promise.resolve(e)}function ze(n,t,e,r){return{create:function(i,s){return new Ke(i,s,n,t,e,r)}}}var Ge=1e3*30,Je=3,ke=1e3*90,Ze=1e3*3,Ke=function(n){C(t,n);function t(e,r,i,s,o,u){var a=n.call(this,e,r)||this;function f(l){return typeof l=="number"}return a.retryCount=f(i)?i:Je,a.retryInterval=f(s)?s:Ge,a.minRetryInterval=f(o)?o:Ze,a.maxRetryInterval=f(u)?u:ke,a}return t.prototype.sendRequest=function(e){var r=this;return this._nextPolicy.sendRequest(e.clone()).then(function(i){return k(r,e,i)}).catch(function(i){return k(r,e,i.response,void 0,i)})},t}(x);function Ve(n,t,e){if(t==null||t<500&&t!==408||t===501||t===505)return!1;var r;if(e)r=e&&e.retryCount;else throw new Error("retryData for the ExponentialRetryPolicyFilter cannot be null.");return r<n.retryCount}function je(n,t,e){t||(t={retryCount:0,retryInterval:0}),e&&(t.error&&(e.innerError=t.error),t.error=e),t.retryCount++;var r=Math.pow(2,t.retryCount)-1,i=n.retryInterval*.8+Math.floor(Math.random()*(n.retryInterval*1.2-n.retryInterval*.8));return r*=i,t.retryInterval=Math.min(n.minRetryInterval+r,n.maxRetryInterval),t}function k(n,t,e,r,i){r=je(n,r,i);var s=t.abortSignal&&t.abortSignal.aborted;if(!s&&Ve(n,e&&e.status,r))return j(r.retryInterval).then(function(){return n._nextPolicy.sendRequest(t.clone())}).then(function(u){return k(n,t,u,r,void 0)}).catch(function(u){return k(n,t,e,r,u)});if(s||i||!e){var o=r.error||new P("Failed to send the request.",P.REQUEST_SEND_ERROR,e&&e.status,e&&e.request,e);return Promise.reject(o)}else return Promise.resolve(e)}function tn(n){return n===void 0&&(n="x-ms-client-request-id"),{create:function(t,e){return new en(t,e,n)}}}var en=function(n){C(t,n);function t(e,r,i){var s=n.call(this,e,r)||this;return s._requestIdHeaderName=i,s}return t.prototype.sendRequest=function(e){return e.headers.contains(this._requestIdHeaderName)||e.headers.set(this._requestIdHeaderName,V()),this._nextPolicy.sendRequest(e)},t}(x);function pt(){return"x-ms-command-name"}function nn(){var n=self.navigator,t={key:"OS",value:(n.oscpu||n.platform).replace(" ","")};return[t]}function rn(){var n={key:"ms-rest-js",value:K.msRestVersion};return[n]}function sn(n,t,e){return t===void 0&&(t=" "),e===void 0&&(e="/"),n.map(function(r){var i=r.value?""+e+r.value:"";return""+r.key+i}).join(t)}var on=pt;function Qt(){var n=rn(),t=nn(),e=sn(n.concat(t));return e}function fn(n){var t=!n||n.key==null?pt():n.key,e=!n||n.value==null?Qt():n.value;return{create:function(r,i){return new un(r,i,t,e)}}}var un=function(n){C(t,n);function t(e,r,i,s){var o=n.call(this,e,r)||this;return o._nextPolicy=e,o._options=r,o.headerKey=i,o.headerValue=s,o}return t.prototype.sendRequest=function(e){return this.addUserAgentHeader(e),this._nextPolicy.sendRequest(e)},t.prototype.addUserAgentHeader=function(e){e.headers||(e.headers=new Z),!e.headers.get(this.headerKey)&&this.headerValue&&e.headers.set(this.headerKey,this.headerValue)},t}(x),ut=function(){function n(){this._rawQuery={}}return n.prototype.any=function(){return Object.keys(this._rawQuery).length>0},n.prototype.set=function(t,e){if(t)if(e!=null){var r=Array.isArray(e)?e:e.toString();this._rawQuery[t]=r}else delete this._rawQuery[t]},n.prototype.get=function(t){return t?this._rawQuery[t]:void 0},n.prototype.toString=function(){var t="";for(var e in this._rawQuery){t&&(t+="&");var r=this._rawQuery[e];if(Array.isArray(r)){for(var i=[],s=0,o=r;s<o.length;s++){var u=o[s];i.push(e+"="+u)}t+=i.join("&")}else t+=e+"="+r}return t},n.parse=function(t){var e=new n;if(t){t.startsWith("?")&&(t=t.substring(1));for(var r="ParameterName",i="",s="",o=0;o<t.length;++o){var u=t[o];switch(r){case"ParameterName":switch(u){case"=":r="ParameterValue";break;case"&":i="",s="";break;default:i+=u;break}break;case"ParameterValue":switch(u){case"&":e.set(i,s),i="",s="",r="ParameterName";break;default:s+=u;break}break;default:throw new Error("Unrecognized URLQuery parse state: "+r)}}r==="ParameterValue"&&e.set(i,s)}return e},n}(),Bt=function(){function n(){}return n.prototype.setScheme=function(t){t?this.set(t,"SCHEME"):this._scheme=void 0},n.prototype.getScheme=function(){return this._scheme},n.prototype.setHost=function(t){t?this.set(t,"SCHEME_OR_HOST"):this._host=void 0},n.prototype.getHost=function(){return this._host},n.prototype.setPort=function(t){t==null||t===""?this._port=void 0:this.set(t.toString(),"PORT")},n.prototype.getPort=function(){return this._port},n.prototype.setPath=function(t){if(!t)this._path=void 0;else{var e=t.indexOf("://");if(e!==-1){var r=t.lastIndexOf("/",e);this.set(r===-1?t:t.substr(r+1),"SCHEME")}else this.set(t,"PATH")}},n.prototype.appendPath=function(t){if(t){var e=this.getPath();e&&(e.endsWith("/")||(e+="/"),t.startsWith("/")&&(t=t.substring(1)),t=e+t),this.set(t,"PATH")}},n.prototype.getPath=function(){return this._path},n.prototype.setQuery=function(t){t?this._query=ut.parse(t):this._query=void 0},n.prototype.setQueryParameter=function(t,e){t&&(this._query||(this._query=new ut),this._query.set(t,e))},n.prototype.getQueryParameterValue=function(t){return this._query?this._query.get(t):void 0},n.prototype.getQuery=function(){return this._query?this._query.toString():void 0},n.prototype.set=function(t,e){for(var r=new ln(t,e);r.next();){var i=r.current();if(i)switch(i.type){case"SCHEME":this._scheme=i.text||void 0;break;case"HOST":this._host=i.text||void 0;break;case"PORT":this._port=i.text||void 0;break;case"PATH":var s=i.text||void 0;(!this._path||this._path==="/"||s!=="/")&&(this._path=s);break;case"QUERY":this._query=ut.parse(i.text);break;default:throw new Error("Unrecognized URLTokenType: "+i.type)}}},n.prototype.toString=function(){var t="";return this._scheme&&(t+=this._scheme+"://"),this._host&&(t+=this._host),this._port&&(t+=":"+this._port),this._path&&(this._path.startsWith("/")||(t+="/"),t+=this._path),this._query&&this._query.any()&&(t+="?"+this._query.toString()),t},n.prototype.replaceAll=function(t,e){t&&(this.setScheme(X(this.getScheme(),t,e)),this.setHost(X(this.getHost(),t,e)),this.setPort(X(this.getPort(),t,e)),this.setPath(X(this.getPath(),t,e)),this.setQuery(X(this.getQuery(),t,e)))},n.parse=function(t){var e=new n;return e.set(t,"SCHEME_OR_HOST"),e},n}(),D=function(){function n(t,e){this.text=t,this.type=e}return n.scheme=function(t){return new n(t,"SCHEME")},n.host=function(t){return new n(t,"HOST")},n.port=function(t){return new n(t,"PORT")},n.path=function(t){return new n(t,"PATH")},n.query=function(t){return new n(t,"QUERY")},n}();function an(n){var t=n.charCodeAt(0);return 48<=t&&t<=57||65<=t&&t<=90||97<=t&&t<=122}var ln=function(){function n(t,e){this._text=t,this._textLength=t?t.length:0,this._currentState=e!=null?e:"SCHEME_OR_HOST",this._currentIndex=0}return n.prototype.current=function(){return this._currentToken},n.prototype.next=function(){if(!N(this))this._currentToken=void 0;else switch(this._currentState){case"SCHEME":hn(this);break;case"SCHEME_OR_HOST":vn(this);break;case"HOST":yn(this);break;case"PORT":gn(this);break;case"PATH":En(this);break;case"QUERY":Tn(this);break;default:throw new Error("Unrecognized URLTokenizerState: "+this._currentState)}return!!this._currentToken},n}();function dn(n){var t="";return n._currentIndex<n._textLength&&(t=n._text.substring(n._currentIndex),n._currentIndex=n._textLength),t}function N(n){return n._currentIndex<n._textLength}function F(n){return n._text[n._currentIndex]}function tt(n,t){N(n)&&(t||(t=1),n._currentIndex+=t)}function Xt(n,t){var e=n._currentIndex+t;return n._textLength<e&&(e=n._textLength),n._text.substring(n._currentIndex,e)}function Yt(n,t){for(var e="";N(n);){var r=F(n);if(t(r))e+=r,tt(n);else break}return e}function cn(n){return Yt(n,function(t){return an(t)})}function et(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return Yt(n,function(r){return t.indexOf(r)===-1})}function hn(n){var t=cn(n);n._currentToken=D.scheme(t),N(n)?n._currentState="HOST":n._currentState="DONE"}function vn(n){var t=et(n,":","/","?");N(n)?F(n)===":"?Xt(n,3)==="://"?(n._currentToken=D.scheme(t),n._currentState="HOST"):(n._currentToken=D.host(t),n._currentState="PORT"):(n._currentToken=D.host(t),F(n)==="/"?n._currentState="PATH":n._currentState="QUERY"):(n._currentToken=D.host(t),n._currentState="DONE")}function yn(n){Xt(n,3)==="://"&&tt(n,3);var t=et(n,":","/","?");n._currentToken=D.host(t),N(n)?F(n)===":"?n._currentState="PORT":F(n)==="/"?n._currentState="PATH":n._currentState="QUERY":n._currentState="DONE"}function gn(n){F(n)===":"&&tt(n);var t=et(n,"/","?");n._currentToken=D.port(t),N(n)?F(n)==="/"?n._currentState="PATH":n._currentState="QUERY":n._currentState="DONE"}function En(n){var t=et(n,"?");n._currentToken=D.path(t),N(n)?n._currentState="QUERY":n._currentState="DONE"}function Tn(n){F(n)==="?"&&tt(n);var t=dn(n);n._currentToken=D.query(t),n._currentState="DONE"}var mn={handleRedirects:!0,maxRetries:20};function wn(n){return n===void 0&&(n=20),{create:function(t,e){return new Rn(t,e,n)}}}var Rn=function(n){C(t,n);function t(e,r,i){i===void 0&&(i=20);var s=n.call(this,e,r)||this;return s.maxRetries=i,s}return t.prototype.sendRequest=function(e){var r=this;return this._nextPolicy.sendRequest(e).then(function(i){return Wt(r,i,0)})},t}(x);function Wt(n,t,e){var r=t.request,i=t.status,s=t.headers.get("location");if(s&&(i===300||i===301&&["GET","HEAD"].includes(r.method)||i===302&&["GET","POST","HEAD"].includes(r.method)||i===303&&r.method==="POST"||i===307)&&(r.redirectLimit!==void 0&&e<r.redirectLimit||r.redirectLimit===void 0&&e<n.maxRetries)){var o=Bt.parse(r.url);return o.setPath(s),r.url=o.toString(),(i===302||i===303)&&r.method==="POST"&&(r.method="GET",delete r.body),n._nextPolicy.sendRequest(r).then(function(u){return Wt(n,u,e+1)}).then(function(u){return An(u,r.url)})}return Promise.resolve(t)}function An(n,t){return n.redirected||(n.redirected=!0,n.url=t),n}function On(n){return n===void 0&&(n=30),{create:function(t,e){return new bn(t,e,n)}}}var bn=function(n){C(t,n);function t(e,r,i){i===void 0&&(i=30);var s=n.call(this,e,r)||this;return s._retryTimeout=i,s}return t.prototype.sendRequest=function(e){var r=this;return this._nextPolicy.sendRequest(e.clone()).then(function(i){return Sn(r,e,i)})},t}(x);function Sn(n,t,e){if(e.status===409){var r=_n(e.bodyAsText);if(r){var i=Pn(t.url);return Cn(n,i,r,t).catch(function(){return!1}).then(function(s){return s?(t.headers.set("x-ms-client-request-id",V()),n._nextPolicy.sendRequest(t.clone())):e})}}return Promise.resolve(e)}function zt(n,t){t===void 0&&(t=!1);var e=n.clone();return t&&(e.url=n.url),e.headers.set("x-ms-client-request-id",V()),e.headers.set("Content-Type","application/json; charset=utf-8"),e}function _n(n){var t,e;if(n){try{e=JSON.parse(n)}catch{}if(e&&e.error&&e.error.message&&e.error.code&&e.error.code==="MissingSubscriptionRegistration"){var r=e.error.message.match(/.*'(.*)'/i);r&&(t=r.pop())}}return t}function Pn(n){var t,e=n.match(/.*\/subscriptions\/[a-f0-9-]+\//gi);if(e&&e[0])t=e[0];else throw new Error("Unable to extract subscriptionId from the given url - "+n+".");return t}function Cn(n,t,e,r){var i=t+"providers/"+e+"/register?api-version=2016-02-01",s=t+"providers/"+e+"?api-version=2016-02-01",o=zt(r);return o.method="POST",o.url=i,n._nextPolicy.sendRequest(o).then(function(u){if(u.status!==200)throw new Error("Autoregistration of "+e+" failed. Please try registering manually.");return Gt(n,s,r)})}function Gt(n,t,e){var r=zt(e);return r.url=t,r.method="GET",n._nextPolicy.sendRequest(r).then(function(i){var s=i.parsedBody;return i.parsedBody&&s.registrationState&&s.registrationState==="Registered"?!0:j(n._retryTimeout*1e3).then(function(){return Gt(n,t,e)})})}function Un(n){return{create:function(t,e){return new xn(t,e,n)}}}var xn=function(n){C(t,n);function t(e,r,i){var s=n.call(this,e,r)||this;return s.authenticationProvider=i,s}return t.prototype.signRequest=function(e){return this.authenticationProvider.signRequest(e)},t.prototype.sendRequest=function(e){var r=this;return this.signRequest(e).then(function(i){return r._nextPolicy.sendRequest(i)})},t}(x);function Hn(n,t,e,r){return{create:function(i,s){return new In(i,s,n,t,e,r)}}}var In=function(n){C(t,n);function t(e,r,i,s,o,u){var a=n.call(this,e,r)||this;return a.DEFAULT_CLIENT_RETRY_INTERVAL=1e3*30,a.DEFAULT_CLIENT_RETRY_COUNT=3,a.DEFAULT_CLIENT_MAX_RETRY_INTERVAL=1e3*90,a.DEFAULT_CLIENT_MIN_RETRY_INTERVAL=1e3*3,a.retryCount=typeof i=="number"?i:a.DEFAULT_CLIENT_RETRY_COUNT,a.retryInterval=typeof s=="number"?s:a.DEFAULT_CLIENT_RETRY_INTERVAL,a.minRetryInterval=typeof o=="number"?o:a.DEFAULT_CLIENT_MIN_RETRY_INTERVAL,a.maxRetryInterval=typeof u=="number"?u:a.DEFAULT_CLIENT_MAX_RETRY_INTERVAL,a}return t.prototype.sendRequest=function(e){var r=this;return this._nextPolicy.sendRequest(e.clone()).catch(function(i){return Jt(r,e,i.response,i)})},t}(x);function Dn(n,t){var e;if(t)e=t&&t.retryCount;else throw new Error("retryData for the SystemErrorRetryPolicyFilter cannot be null.");return e<n.retryCount}function Ln(n,t,e){t||(t={retryCount:0,retryInterval:0}),e&&(t.error&&(e.innerError=t.error),t.error=e),t.retryCount++;var r=Math.pow(2,t.retryCount)-1,i=n.retryInterval*.8+Math.floor(Math.random()*(n.retryInterval*.4));return r*=i,t.retryInterval=Math.min(n.minRetryInterval+r,n.maxRetryInterval),t}function Jt(n,t,e,r,i){return Q(this,void 0,void 0,function(){var s;return B(this,function(o){switch(o.label){case 0:if(i=Ln(n,i,r),!(r&&r.code&&Dn(n,i)&&(r.code==="ETIMEDOUT"||r.code==="ESOCKETTIMEDOUT"||r.code==="ECONNREFUSED"||r.code==="ECONNRESET"||r.code==="ENOENT")))return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,j(i.retryInterval)];case 2:return o.sent(),[2,n._nextPolicy.sendRequest(t.clone())];case 3:return s=o.sent(),[2,Jt(n,t,e,s,i)];case 4:return[3,6];case 5:return r?[2,Promise.reject(i.error)]:[2,e];case 6:return[2]}})})}var L;(function(n){n.Csv=",",n.Ssv=" ",n.Tsv="	",n.Pipes="|",n.Multi="Multi"})(L||(L={}));var gt=new Error("AgentPolicy is not supported in browser environment");function Fn(n){return{create:function(t,e){throw gt}}}(function(n){C(t,n);function t(e,r){throw n.call(this,e,r),gt}return t.prototype.sendRequest=function(e){throw gt},t})(x);var Et=new Error("ProxyPolicy is not supported in browser environment");function Nn(n){return{create:function(t,e){throw Et}}}(function(n){C(t,n);function t(e,r){throw n.call(this,e,r),Et}return t.prototype.sendRequest=function(e){throw Et},t})(x);var Mn=K.HttpConstants.StatusCodes,$n=3;function qn(n){return n===void 0&&(n=$n),{create:function(t,e){return new pn(t,e,n)}}}var pn=function(n){C(t,n);function t(e,r,i){var s=n.call(this,e,r)||this;return s.retryLimit=i,s}return t.prototype.sendRequest=function(e){return Q(this,void 0,void 0,function(){var r=this;return B(this,function(i){return[2,this._nextPolicy.sendRequest(e.clone()).then(function(s){return r.retry(e,s,0)})]})})},t.prototype.retry=function(e,r,i){return Q(this,void 0,void 0,function(){var s,o,u;return B(this,function(a){switch(a.label){case 0:return r.status!==Mn.TooManyRequests?[2,r]:(s=r.headers.get(K.HeaderConstants.RETRY_AFTER),s&&i<this.retryLimit?(o=t.parseRetryAfterHeader(s),o?[4,j(o)]:[3,3]):[3,3]);case 1:return a.sent(),[4,this._nextPolicy.sendRequest(e)];case 2:return u=a.sent(),[2,this.retry(e,u,i+1)];case 3:return[2,r]}})})},t.parseRetryAfterHeader=function(e){var r=Number(e);return Number.isNaN(r)?t.parseDateRetryAfterHeader(e):r*1e3},t.parseDateRetryAfterHeader=function(e){try{var r=Date.now(),i=Date.parse(e),s=i-r;return Number.isNaN(s)?void 0:s}catch{return}},t}(x),Qn="Bearer",Bn=["https://management.windows.net","https://management.chinacloudapi.cn","https://management.usgovcloudapi.net","https://management.cloudapi.de"],Xn=function(){function n(t,e){e===void 0&&(e="https://management.azure.com/.default"),this.azureTokenCredential=t,this.scopes=e}return n.prototype.getToken=function(){return Q(this,void 0,void 0,function(){var t,e;return B(this,function(r){switch(r.label){case 0:return[4,this.azureTokenCredential.getToken(this.scopes)];case 1:if(t=r.sent(),t!==null)return e={accessToken:t.token,tokenType:Qn,expiresOn:t.expiresOnTimestamp},[2,e];throw new Error("Could find token for scope")}})})},n.prototype.signRequest=function(t){return Q(this,void 0,void 0,function(){var e;return B(this,function(r){switch(r.label){case 0:return[4,this.getToken()];case 1:return e=r.sent(),t.headers.set(K.HeaderConstants.AUTHORIZATION,e.tokenType+" "+e.accessToken),[2,Promise.resolve(t)]}})})},n}(),Zn=function(){function n(t,e){e||(e={}),e.baseUri&&(this.baseUri=e.baseUri);var r;if(ne(t)){var i=void 0;(e==null?void 0:e.baseUri)&&Bn.includes(e==null?void 0:e.baseUri)&&(i=e.baseUri+"/.default"),r=new Xn(t,i)}else r=t;if(r&&!r.signRequest)throw new Error("credentials argument needs to implement signRequest method");this._withCredentials=e.withCredentials||!1,this._httpClient=e.httpClient||new Ue,this._requestPolicyOptions=new Me(e.httpPipelineLogger);var s;if(Array.isArray(e.requestPolicyFactories))s=e.requestPolicyFactories;else if(s=zn(r,e),e.requestPolicyFactories){var o=e.requestPolicyFactories(s);o&&(s=o)}this._requestPolicyFactories=s}return n.prototype.sendRequest=function(t){if(t==null||typeof t!="object")throw new Error("options cannot be null or undefined and it must be of type object.");var e;try{Pe(t)?(t.validateRequestProperties(),e=t):(e=new _t,e=e.prepare(t))}catch(s){return Promise.reject(s)}var r=this._httpClient;if(this._requestPolicyFactories&&this._requestPolicyFactories.length>0)for(var i=this._requestPolicyFactories.length-1;i>=0;--i)r=this._requestPolicyFactories[i].create(r,this._requestPolicyOptions);return r.sendRequest(e)},n.prototype.sendOperationRequest=function(t,e,r){typeof t.options=="function"&&(r=t.options,t.options=void 0);var i=new _t,s;try{var o=e.baseUrl||this.baseUri;if(!o)throw new Error("If operationSpec.baseUrl is not specified, then the ServiceClient must have a baseUri string property that contains the base URL to use.");i.method=e.httpMethod,i.operationSpec=e;var u=Bt.parse(o);if(e.path&&u.appendPath(e.path),e.urlParameters&&e.urlParameters.length>0)for(var a=0,f=e.urlParameters;a<f.length;a++){var l=f[a],h=Y(this,t,l,e.serializer);h=e.serializer.serialize(l.mapper,h,I(l)),l.skipEncoding||(h=encodeURIComponent(h)),u.replaceAll("{"+(l.mapper.serializedName||I(l))+"}",h)}if(e.queryParameters&&e.queryParameters.length>0)for(var v=0,y=e.queryParameters;v<y.length;v++){var d=y[v],c=Y(this,t,d,e.serializer);if(c!=null){if(c=e.serializer.serialize(d.mapper,c,I(d)),d.collectionFormat!=null)if(d.collectionFormat===L.Multi)if(c.length===0)c="";else for(var E in c){var T=c[E];c[E]=T==null?"":T.toString()}else(d.collectionFormat===L.Ssv||d.collectionFormat===L.Tsv)&&(c=c.join(d.collectionFormat));if(!d.skipEncoding)if(Array.isArray(c))for(var E in c)c[E]!==void 0&&c[E]!==null&&(c[E]=encodeURIComponent(c[E]));else c=encodeURIComponent(c);d.collectionFormat!=null&&d.collectionFormat!==L.Multi&&d.collectionFormat!==L.Ssv&&d.collectionFormat!==L.Tsv&&(c=c.join(d.collectionFormat)),u.setQueryParameter(d.mapper.serializedName||I(d),c)}}i.url=u.toString();var g=e.contentType||this.requestContentType;if(g&&i.headers.set("Content-Type",g),e.headerParameters)for(var m=0,A=e.headerParameters;m<A.length;m++){var O=A[m],w=Y(this,t,O,e.serializer);if(w!=null){w=e.serializer.serialize(O.mapper,w,I(O));var $=O.mapper.headerCollectionPrefix;if($)for(var b=0,H=Object.keys(w);b<H.length;b++){var U=H[b];i.headers.set($+U,w[U])}else i.headers.set(O.mapper.serializedName||I(O),w)}}var R=t.options;if(R){if(R.customHeaders)for(var q in R.customHeaders)i.headers.set(q,R.customHeaders[q]);R.abortSignal&&(i.abortSignal=R.abortSignal),R.timeout&&(i.timeout=R.timeout),R.onUploadProgress&&(i.onUploadProgress=R.onUploadProgress),R.onDownloadProgress&&(i.onDownloadProgress=R.onDownloadProgress)}i.withCredentials=this._withCredentials,Yn(this,i,t,e),i.streamResponseBody==null&&(i.streamResponseBody=Mt(e)),s=this.sendRequest(i).then(function(S){return Gn(S,e.responses[S.status])})}catch(S){s=Promise.reject(S)}var p=r;return p&&s.then(function(S){return p(null,S._response.parsedBody,S._response.request,S._response)}).catch(function(S){return p(S)}),s},n}();function Yn(n,t,e,r){if(r.requestBody&&r.requestBody.mapper){t.body=Y(n,e,r.requestBody,r.serializer);var i=r.requestBody.mapper,s=i.required,o=i.xmlName,u=i.xmlElementName,a=i.serializedName,f=i.type.name;try{if(t.body!=null||s){var l=I(r.requestBody);t.body=r.serializer.serialize(i,t.body,l);var h=f===W.Stream;r.isXML?f===W.Sequence?t.body=Ut(ie(t.body,u||o||a),{rootName:o||a}):h||(t.body=Ut(t.body,{rootName:o||a})):h||(t.body=JSON.stringify(t.body))}}catch(T){throw new Error('Error "'+T.message+'" occurred in serializing the payload - '+JSON.stringify(a,void 0,"  ")+".")}}else if(r.formDataParameters&&r.formDataParameters.length>0){t.formData={};for(var v=0,y=r.formDataParameters;v<y.length;v++){var d=y[v],c=Y(n,e,d,r.serializer);if(c!=null){var E=d.mapper.serializedName||I(d);t.formData[E]=r.serializer.serialize(d.mapper,c,I(d))}}}}function Wn(n){return typeof n.create=="function"}function xt(n,t){var e;return typeof n=="string"?e=n:(e=t(),typeof n=="function"&&(e=n(e))),e}function zn(n,t){var e=[];t.generateClientRequestIdHeader&&e.push(tn(t.clientRequestIdHeaderName)),n&&(Wn(n)?e.push(n):e.push(Un(n)));var r=xt(t.userAgentHeaderName,on),i=xt(t.userAgent,Qt);r&&i&&e.push(fn({key:r,value:i}));var s=_(_({},mn),t.redirectOptions);s.handleRedirects&&e.push(wn(s.maxRetries)),e.push(On(t.rpRegistrationRetryTimeout)),t.noRetryPolicy||(e.push(ze()),e.push(Hn()),e.push(qn())),e.push($e(t.deserializationContentTypes));var o=t.proxySettings||void 0;return o&&e.push(Nn()),t.agentSettings&&e.push(Fn(t.agentSettings)),e}function Y(n,t,e,r){return kt(n,t,e.parameterPath,e.mapper,r)}function kt(n,t,e,r,i){var s;if(typeof e=="string"&&(e=[e]),Array.isArray(e)){if(e.length>0){if(r.isConstant)s=r.defaultValue;else{var o=Ht(t,e);o.propertyFound||(o=Ht(n,e));var u=!1;o.propertyFound||(u=r.required||e[0]==="options"&&e.length===2),s=u?r.defaultValue:o.propertyValue}var a=ct(e,r);i.serialize(r,s,a)}}else{r.required&&(s={});for(var f in e){var l=r.type.modelProperties[f],h=e[f],v=kt(n,t,h,l,i),y=ct(h,l);i.serialize(l,v,y),v!==void 0&&(s||(s={}),s[f]=v)}}return s}function Ht(n,t){for(var e={propertyFound:!1},r=0;r<t.length;++r){var i=t[r];if(n!=null&&i in n)n=n[i];else break}return r===t.length&&(e.propertyValue=n,e.propertyFound=!0),e}function Gn(n,t){var e=n.parsedHeaders,r=t&&t.bodyMapper,i=function(c){return Object.defineProperty(c,"_response",{value:n})};if(r){var s=r.type.name;if(s==="Stream")return i(_(_({},e),{blobBody:n.blobBody,readableStreamBody:n.readableStreamBody}));var o=s==="Composite"&&r.type.modelProperties||{},u=Object.keys(o).some(function(c){return o[c].serializedName===""});if(s==="Sequence"||u){for(var a=Array.isArray(n.parsedBody)?n.parsedBody:[],f=Ce(a),l=0,h=Object.keys(o);l<h.length;l++){var v=h[l];o[v].serializedName&&(f[v]=n.parsedBody[v])}if(e)for(var y=0,d=Object.keys(e);y<d.length;y++){var v=d[y];f[v]=e[v]}return i(f),f}if(s==="Composite"||s==="Dictionary")return i(_(_({},e),n.parsedBody))}return r||n.request.method==="HEAD"||fe(n.parsedBody)?i(_(_({},e),{body:n.parsedBody})):i(_(_({},e),n.parsedBody))}var Kn=function(){function n(t){if(!t||t&&!t.inHeader&&!t.inQuery)throw new Error('options cannot be null or undefined. Either "inHeader" or "inQuery" property of the options object needs to be provided.');this.inHeader=t.inHeader,this.inQuery=t.inQuery}return n.prototype.signRequest=function(t){if(!t)return Promise.reject(new Error('webResource cannot be null or undefined and must be of type "object".'));if(this.inHeader){t.headers||(t.headers=new Z);for(var e in this.inHeader)t.headers.set(e,this.inHeader[e])}if(this.inQuery){if(!t.url)return Promise.reject(new Error("url cannot be null in the request object."));t.url.indexOf("?")<0&&(t.url+="?");for(var r in this.inQuery)t.url.endsWith("?")||(t.url+="&"),t.url+=r+"="+this.inQuery[r]}return Promise.resolve(t)},n}();export{Kn as A,L as Q,Zn as S,ue as a,Qt as g};
