import{u as de}from"./settings.fe6fa44e.js";import{l as ye,h as ge,S as Ne,i as L,g as F,b as R,c as G,e as N,d as T,f as B,A as he}from"./serviceClient.f662b2eb.js";import{i as ze}from"./tokenCredential.b04f4687.js";import{d as De,o as Se,c as Ce,a as h,F as fe}from"./index.e0d5fc43.js";import"./v4.90f1a8cc.js";function be(a){return`, ${a.trim()}`.split(", Bearer ").filter(t=>t).map(t=>`${t.trim()}, `.split('", ').filter(s=>s).map(s=>(([o,i])=>({[o]:i}))(s.trim().split('="'))).reduce((s,o)=>Object.assign(Object.assign({},s),o),{}))}async function Pe(a){const{scopes:e,response:t}=a,n=a.logger||ye,r=t.headers.get("WWW-Authenticate");if(!r)return n.info("The WWW-Authenticate header was missing. Failed to perform the Continuous Access Evaluation authentication flow."),!1;const o=(be(r)||[]).find(m=>m.claims);if(!o)return n.info('The WWW-Authenticate header was missing the necessary "claims" to perform the Continuous Access Evaluation authentication flow.'),!1;const i=await a.getAccessToken(o.scope?[o.scope]:e,{claims:ge(o.claims)});return i?(a.request.headers.set("Authorization",`Bearer ${i.token}`),!0):!1}const v={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};function Me(a={}){let e=new q(a.parentContext);return a.span&&(e=e.setValue(v.span,a.span)),a.namespace&&(e=e.setValue(v.namespace,a.namespace)),e}class q{constructor(e){this._contextMap=e instanceof q?new Map(e._contextMap):new Map}setValue(e,t){const n=new q(this);return n._contextMap.set(e,t),n}getValue(e){return this._contextMap.get(e)}deleteValue(e){const t=new q(this);return t._contextMap.delete(e),t}}function ve(){return{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{}}}function qe(){return{createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(a,e)=>({span:ve(),tracingContext:Me({parentContext:e.tracingContext})}),withContext(a,e,...t){return e(...t)}}}let x;function A(){return x||(x=qe()),x}function Oe(a){const{namespace:e,packageName:t,packageVersion:n}=a;function r(l,g,S){var M;const C=A().startSpan(l,Object.assign(Object.assign({},S),{packageName:t,packageVersion:n,tracingContext:(M=g==null?void 0:g.tracingOptions)===null||M===void 0?void 0:M.tracingContext}));let D=C.tracingContext;const f=C.span;D.getValue(v.namespace)||(D=D.setValue(v.namespace,e)),f.setAttribute("az.namespace",D.getValue(v.namespace));const pe=Object.assign({},g,{tracingOptions:Object.assign(Object.assign({},g==null?void 0:g.tracingOptions),{tracingContext:D})});return{span:f,updatedOptions:pe}}async function s(l,g,S,M){const{span:C,updatedOptions:D}=r(l,g,M);try{const f=await o(D.tracingOptions.tracingContext,()=>Promise.resolve(S(D,C)));return C.setStatus({status:"success"}),f}catch(f){throw C.setStatus({status:"error",error:f}),f}finally{C.end()}}function o(l,g,...S){return A().withContext(l,g,...S)}function i(l){return A().parseTraceparentHeader(l)}function m(l){return A().createRequestHeaders(l)}return{startSpan:r,withSpan:s,withContext:o,parseTraceparentHeader:i,createRequestHeaders:m}}const Re="https://cognitiveservices.azure.com/.default",Te="4.0.0",U={type:{name:"Composite",className:"AnalyzeDocumentRequest",modelProperties:{urlSource:{serializedName:"urlSource",type:{name:"String"}},base64Source:{serializedName:"base64Source",type:{name:"ByteArray"}}}}},u={type:{name:"Composite",className:"ErrorResponse",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"ErrorModel"}}}}},Ae={type:{name:"Composite",className:"ErrorModel",modelProperties:{code:{serializedName:"code",required:!0,type:{name:"String"}},message:{serializedName:"message",required:!0,type:{name:"String"}},target:{serializedName:"target",type:{name:"String"}},details:{serializedName:"details",type:{name:"Sequence",element:{type:{name:"Composite",className:"ErrorModel"}}}},innererror:{serializedName:"innererror",type:{name:"Composite",className:"InnerError"}}}}},Ie={type:{name:"Composite",className:"InnerError",modelProperties:{code:{serializedName:"code",required:!0,type:{name:"String"}},message:{serializedName:"message",type:{name:"String"}},innererror:{serializedName:"innererror",type:{name:"Composite",className:"InnerError"}}}}},_={type:{name:"Composite",className:"AnalyzeResultOperation",modelProperties:{status:{serializedName:"status",required:!0,type:{name:"Enum",allowedValues:["notStarted","running","failed","succeeded"]}},createdOn:{serializedName:"createdDateTime",required:!0,type:{name:"DateTime"}},lastUpdatedOn:{serializedName:"lastUpdatedDateTime",required:!0,type:{name:"DateTime"}},error:{serializedName:"error",type:{name:"Composite",className:"ErrorModel"}},analyzeResult:{serializedName:"analyzeResult",type:{name:"Composite",className:"AnalyzeResult"}}}}},xe={type:{name:"Composite",className:"AnalyzeResult",modelProperties:{apiVersion:{serializedName:"apiVersion",required:!0,type:{name:"String"}},modelId:{constraints:{Pattern:new RegExp("[a-zA-Z0-9][a-zA-Z0-9._~-]{1,63}")},serializedName:"modelId",required:!0,type:{name:"String"}},stringIndexType:{serializedName:"stringIndexType",required:!0,type:{name:"String"}},content:{serializedName:"content",required:!0,type:{name:"String"}},pages:{serializedName:"pages",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentPage"}}}},paragraphs:{serializedName:"paragraphs",type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentParagraph"}}}},tables:{serializedName:"tables",type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentTable"}}}},keyValuePairs:{serializedName:"keyValuePairs",type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentKeyValuePair"}}}},styles:{serializedName:"styles",type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentStyle"}}}},languages:{serializedName:"languages",type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentLanguage"}}}},documents:{serializedName:"documents",type:{name:"Sequence",element:{type:{name:"Composite",className:"Document"}}}}}}},we={type:{name:"Composite",className:"DocumentPage",modelProperties:{pageNumber:{constraints:{InclusiveMinimum:1},serializedName:"pageNumber",required:!0,type:{name:"Number"}},angle:{constraints:{InclusiveMaximum:180,ExclusiveMinimum:-180},serializedName:"angle",type:{name:"Number"}},width:{constraints:{InclusiveMinimum:0},serializedName:"width",type:{name:"Number"}},height:{constraints:{InclusiveMinimum:0},serializedName:"height",type:{name:"Number"}},unit:{serializedName:"unit",type:{name:"String"}},spans:{serializedName:"spans",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentSpan"}}}},words:{serializedName:"words",type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentWord"}}}},selectionMarks:{serializedName:"selectionMarks",type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentSelectionMark"}}}},lines:{serializedName:"lines",type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentLine"}}}}}}},_e={type:{name:"Composite",className:"DocumentSpan",modelProperties:{offset:{constraints:{InclusiveMinimum:0},serializedName:"offset",required:!0,type:{name:"Number"}},length:{constraints:{InclusiveMinimum:0},serializedName:"length",required:!0,type:{name:"Number"}}}}},Ee={type:{name:"Composite",className:"DocumentWord",modelProperties:{content:{serializedName:"content",required:!0,type:{name:"String"}},polygon:{serializedName:"polygon",type:{name:"Sequence",element:{constraints:{InclusiveMinimum:0},type:{name:"Number"}}}},span:{serializedName:"span",type:{name:"Composite",className:"DocumentSpan"}},confidence:{constraints:{InclusiveMaximum:1,InclusiveMinimum:0},serializedName:"confidence",required:!0,type:{name:"Number"}}}}},Ve={type:{name:"Composite",className:"DocumentSelectionMark",modelProperties:{state:{serializedName:"state",required:!0,type:{name:"String"}},polygon:{serializedName:"polygon",type:{name:"Sequence",element:{constraints:{InclusiveMinimum:0},type:{name:"Number"}}}},span:{serializedName:"span",type:{name:"Composite",className:"DocumentSpan"}},confidence:{constraints:{InclusiveMaximum:1,InclusiveMinimum:0},serializedName:"confidence",required:!0,type:{name:"Number"}}}}},ke={type:{name:"Composite",className:"DocumentLine",modelProperties:{content:{serializedName:"content",required:!0,type:{name:"String"}},polygon:{serializedName:"polygon",type:{name:"Sequence",element:{constraints:{InclusiveMinimum:0},type:{name:"Number"}}}},spans:{serializedName:"spans",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentSpan"}}}}}}},je={type:{name:"Composite",className:"DocumentParagraph",modelProperties:{role:{serializedName:"role",type:{name:"String"}},content:{serializedName:"content",required:!0,type:{name:"String"}},boundingRegions:{serializedName:"boundingRegions",type:{name:"Sequence",element:{type:{name:"Composite",className:"BoundingRegion"}}}},spans:{serializedName:"spans",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentSpan"}}}}}}},Le={type:{name:"Composite",className:"BoundingRegion",modelProperties:{pageNumber:{constraints:{InclusiveMinimum:1},serializedName:"pageNumber",required:!0,type:{name:"Number"}},polygon:{serializedName:"polygon",required:!0,type:{name:"Sequence",element:{constraints:{InclusiveMinimum:0},type:{name:"Number"}}}}}}},Be={type:{name:"Composite",className:"DocumentTable",modelProperties:{rowCount:{constraints:{InclusiveMinimum:1},serializedName:"rowCount",required:!0,type:{name:"Number"}},columnCount:{constraints:{InclusiveMinimum:1},serializedName:"columnCount",required:!0,type:{name:"Number"}},cells:{serializedName:"cells",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentTableCell"}}}},boundingRegions:{serializedName:"boundingRegions",type:{name:"Sequence",element:{type:{name:"Composite",className:"BoundingRegion"}}}},spans:{serializedName:"spans",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentSpan"}}}}}}},Fe={type:{name:"Composite",className:"DocumentTableCell",modelProperties:{kind:{defaultValue:"content",serializedName:"kind",type:{name:"String"}},rowIndex:{serializedName:"rowIndex",required:!0,type:{name:"Number"}},columnIndex:{serializedName:"columnIndex",required:!0,type:{name:"Number"}},rowSpan:{defaultValue:1,constraints:{InclusiveMinimum:1},serializedName:"rowSpan",type:{name:"Number"}},columnSpan:{defaultValue:1,constraints:{InclusiveMinimum:1},serializedName:"columnSpan",type:{name:"Number"}},content:{serializedName:"content",required:!0,type:{name:"String"}},boundingRegions:{serializedName:"boundingRegions",type:{name:"Sequence",element:{type:{name:"Composite",className:"BoundingRegion"}}}},spans:{serializedName:"spans",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentSpan"}}}}}}},Ge={type:{name:"Composite",className:"DocumentKeyValuePair",modelProperties:{key:{serializedName:"key",type:{name:"Composite",className:"DocumentKeyValueElement"}},value:{serializedName:"value",type:{name:"Composite",className:"DocumentKeyValueElement"}},confidence:{constraints:{InclusiveMaximum:1,InclusiveMinimum:0},serializedName:"confidence",required:!0,type:{name:"Number"}}}}},Ue={type:{name:"Composite",className:"DocumentKeyValueElement",modelProperties:{content:{serializedName:"content",required:!0,type:{name:"String"}},boundingRegions:{serializedName:"boundingRegions",type:{name:"Sequence",element:{type:{name:"Composite",className:"BoundingRegion"}}}},spans:{serializedName:"spans",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentSpan"}}}}}}},He={type:{name:"Composite",className:"DocumentStyle",modelProperties:{isHandwritten:{serializedName:"isHandwritten",type:{name:"Boolean"}},spans:{serializedName:"spans",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentSpan"}}}},confidence:{constraints:{InclusiveMaximum:1,InclusiveMinimum:0},serializedName:"confidence",required:!0,type:{name:"Number"}}}}},Ze={type:{name:"Composite",className:"DocumentLanguage",modelProperties:{locale:{serializedName:"locale",required:!0,type:{name:"String"}},spans:{serializedName:"spans",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentSpan"}}}},confidence:{constraints:{InclusiveMaximum:1,InclusiveMinimum:0},serializedName:"confidence",required:!0,type:{name:"Number"}}}}},Ke={type:{name:"Composite",className:"Document",modelProperties:{docType:{constraints:{MaxLength:64,MinLength:2},serializedName:"docType",required:!0,type:{name:"String"}},boundingRegions:{serializedName:"boundingRegions",type:{name:"Sequence",element:{type:{name:"Composite",className:"BoundingRegion"}}}},spans:{serializedName:"spans",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentSpan"}}}},fields:{serializedName:"fields",type:{name:"Dictionary",value:{type:{name:"Composite",className:"DocumentField"}}}},confidence:{constraints:{InclusiveMaximum:1,InclusiveMinimum:0},serializedName:"confidence",required:!0,type:{name:"Number"}}}}},$e={type:{name:"Composite",className:"DocumentField",modelProperties:{type:{serializedName:"type",required:!0,type:{name:"String"}},valueString:{serializedName:"valueString",type:{name:"String"}},valueDate:{serializedName:"valueDate",type:{name:"Date"}},valueTime:{serializedName:"valueTime",type:{name:"String"}},valuePhoneNumber:{serializedName:"valuePhoneNumber",type:{name:"String"}},valueNumber:{serializedName:"valueNumber",type:{name:"Number"}},valueInteger:{serializedName:"valueInteger",type:{name:"Number"}},valueSelectionMark:{serializedName:"valueSelectionMark",type:{name:"String"}},valueSignature:{serializedName:"valueSignature",type:{name:"String"}},valueCountryRegion:{serializedName:"valueCountryRegion",type:{name:"String"}},valueArray:{serializedName:"valueArray",type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentField"}}}},valueObject:{serializedName:"valueObject",type:{name:"Dictionary",value:{type:{name:"Composite",className:"DocumentField"}}}},valueCurrency:{serializedName:"valueCurrency",type:{name:"Composite",className:"CurrencyValue"}},valueAddress:{serializedName:"valueAddress",type:{name:"Composite",className:"AddressValue"}},content:{serializedName:"content",type:{name:"String"}},boundingRegions:{serializedName:"boundingRegions",type:{name:"Sequence",element:{type:{name:"Composite",className:"BoundingRegion"}}}},spans:{serializedName:"spans",type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentSpan"}}}},confidence:{constraints:{InclusiveMaximum:1,InclusiveMinimum:0},serializedName:"confidence",type:{name:"Number"}}}}},We={type:{name:"Composite",className:"CurrencyValue",modelProperties:{amount:{serializedName:"amount",required:!0,type:{name:"Number"}},currencySymbol:{serializedName:"currencySymbol",type:{name:"String"}}}}},Je={type:{name:"Composite",className:"AddressValue",modelProperties:{houseNumber:{serializedName:"houseNumber",type:{name:"String"}},poBox:{serializedName:"poBox",type:{name:"String"}},road:{serializedName:"road",type:{name:"String"}},city:{serializedName:"city",type:{name:"String"}},state:{serializedName:"state",type:{name:"String"}},postalCode:{serializedName:"postalCode",type:{name:"String"}},countryRegion:{serializedName:"countryRegion",type:{name:"String"}},streetAddress:{serializedName:"streetAddress",type:{name:"String"}}}}},H={type:{name:"Composite",className:"BuildDocumentModelRequest",modelProperties:{modelId:{constraints:{Pattern:new RegExp("[a-zA-Z0-9][a-zA-Z0-9._~-]{1,63}")},serializedName:"modelId",required:!0,type:{name:"String"}},description:{constraints:{MaxLength:4096},serializedName:"description",type:{name:"String"}},buildMode:{serializedName:"buildMode",required:!0,type:{name:"String"}},azureBlobSource:{serializedName:"azureBlobSource",type:{name:"Composite",className:"AzureBlobContentSource"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},Ye={type:{name:"Composite",className:"AzureBlobContentSource",modelProperties:{containerUrl:{serializedName:"containerUrl",required:!0,type:{name:"String"}},prefix:{serializedName:"prefix",type:{name:"String"}}}}},Z={type:{name:"Composite",className:"ComposeDocumentModelRequest",modelProperties:{modelId:{constraints:{Pattern:new RegExp("[a-zA-Z0-9][a-zA-Z0-9._~-]{1,63}")},serializedName:"modelId",required:!0,type:{name:"String"}},description:{constraints:{MaxLength:4096},serializedName:"description",type:{name:"String"}},componentModels:{constraints:{UniqueItems:!0},serializedName:"componentModels",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"ComponentDocumentModelDetails"}}}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},Qe={type:{name:"Composite",className:"ComponentDocumentModelDetails",modelProperties:{modelId:{constraints:{Pattern:new RegExp("[a-zA-Z0-9][a-zA-Z0-9._~-]{1,63}")},serializedName:"modelId",required:!0,type:{name:"String"}}}}},K={type:{name:"Composite",className:"AuthorizeCopyRequest",modelProperties:{modelId:{constraints:{Pattern:new RegExp("[a-zA-Z0-9][a-zA-Z0-9._~-]{1,63}")},serializedName:"modelId",required:!0,type:{name:"String"}},description:{constraints:{MaxLength:4096},serializedName:"description",type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},E={type:{name:"Composite",className:"CopyAuthorization",modelProperties:{targetResourceId:{serializedName:"targetResourceId",required:!0,type:{name:"String"}},targetResourceRegion:{serializedName:"targetResourceRegion",required:!0,type:{name:"String"}},targetModelId:{constraints:{Pattern:new RegExp("[a-zA-Z0-9][a-zA-Z0-9._~-]{1,63}")},serializedName:"targetModelId",required:!0,type:{name:"String"}},targetModelLocation:{serializedName:"targetModelLocation",required:!0,type:{name:"String"}},accessToken:{serializedName:"accessToken",required:!0,type:{name:"String"}},expirationDateTime:{serializedName:"expirationDateTime",required:!0,type:{name:"DateTime"}}}}},V={type:{name:"Composite",className:"GetOperationsResponse",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"OperationSummary"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},Xe={type:{name:"Composite",className:"OperationSummary",modelProperties:{operationId:{serializedName:"operationId",required:!0,type:{name:"String"}},status:{serializedName:"status",required:!0,type:{name:"Enum",allowedValues:["notStarted","running","failed","succeeded","canceled"]}},percentCompleted:{constraints:{InclusiveMaximum:100,InclusiveMinimum:0},serializedName:"percentCompleted",type:{name:"Number"}},createdOn:{serializedName:"createdDateTime",required:!0,type:{name:"DateTime"}},lastUpdatedOn:{serializedName:"lastUpdatedDateTime",required:!0,type:{name:"DateTime"}},kind:{serializedName:"kind",required:!0,type:{name:"String"}},resourceLocation:{serializedName:"resourceLocation",required:!0,type:{name:"String"}},apiVersion:{serializedName:"apiVersion",type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},z={type:{name:"Composite",className:"OperationDetails",uberParent:"OperationDetails",polymorphicDiscriminator:{serializedName:"kind",clientName:"kind"},modelProperties:{operationId:{serializedName:"operationId",required:!0,type:{name:"String"}},status:{serializedName:"status",required:!0,type:{name:"Enum",allowedValues:["notStarted","running","failed","succeeded","canceled"]}},percentCompleted:{constraints:{InclusiveMaximum:100,InclusiveMinimum:0},serializedName:"percentCompleted",type:{name:"Number"}},createdOn:{serializedName:"createdDateTime",required:!0,type:{name:"DateTime"}},lastUpdatedOn:{serializedName:"lastUpdatedDateTime",required:!0,type:{name:"DateTime"}},kind:{serializedName:"kind",required:!0,type:{name:"String"}},resourceLocation:{serializedName:"resourceLocation",required:!0,type:{name:"String"}},apiVersion:{serializedName:"apiVersion",type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}},error:{serializedName:"error",type:{name:"Composite",className:"ErrorModel"}}}}},k={type:{name:"Composite",className:"GetDocumentModelsResponse",modelProperties:{value:{serializedName:"value",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentModelSummary"}}}},nextLink:{serializedName:"nextLink",type:{name:"String"}}}}},et={type:{name:"Composite",className:"DocumentModelSummary",modelProperties:{modelId:{constraints:{Pattern:new RegExp("[a-zA-Z0-9][a-zA-Z0-9._~-]{1,63}")},serializedName:"modelId",required:!0,type:{name:"String"}},description:{constraints:{MaxLength:4096},serializedName:"description",type:{name:"String"}},createdOn:{serializedName:"createdDateTime",required:!0,type:{name:"DateTime"}},apiVersion:{serializedName:"apiVersion",type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}}}}},$={type:{name:"Composite",className:"DocumentModelDetails",modelProperties:{modelId:{constraints:{Pattern:new RegExp("[a-zA-Z0-9][a-zA-Z0-9._~-]{1,63}")},serializedName:"modelId",required:!0,type:{name:"String"}},description:{constraints:{MaxLength:4096},serializedName:"description",type:{name:"String"}},createdOn:{serializedName:"createdDateTime",required:!0,type:{name:"DateTime"}},apiVersion:{serializedName:"apiVersion",type:{name:"String"}},tags:{serializedName:"tags",type:{name:"Dictionary",value:{type:{name:"String"}}}},docTypes:{serializedName:"docTypes",type:{name:"Dictionary",value:{type:{name:"Composite",className:"DocumentTypeDetails"}}}}}}},tt={type:{name:"Composite",className:"DocumentTypeDetails",modelProperties:{description:{constraints:{MaxLength:4096},serializedName:"description",type:{name:"String"}},buildMode:{serializedName:"buildMode",type:{name:"String"}},fieldSchema:{serializedName:"fieldSchema",required:!0,type:{name:"Dictionary",value:{type:{name:"Composite",className:"DocumentFieldSchema"}}}},fieldConfidence:{serializedName:"fieldConfidence",type:{name:"Dictionary",value:{type:{name:"Number"},constraints:{InclusiveMaximum:1,InclusiveMinimum:0}}}}}}},at={type:{name:"Composite",className:"DocumentFieldSchema",modelProperties:{type:{serializedName:"type",required:!0,type:{name:"String"}},description:{serializedName:"description",type:{name:"String"}},example:{serializedName:"example",type:{name:"String"}},items:{serializedName:"items",type:{name:"Composite",className:"DocumentFieldSchema"}},properties:{serializedName:"properties",type:{name:"Dictionary",value:{type:{name:"Composite",className:"DocumentFieldSchema"}}}}}}},W={type:{name:"Composite",className:"ResourceDetails",modelProperties:{customDocumentModels:{serializedName:"customDocumentModels",type:{name:"Composite",className:"CustomDocumentModelsDetails"}}}}},nt={type:{name:"Composite",className:"CustomDocumentModelsDetails",modelProperties:{count:{serializedName:"count",required:!0,type:{name:"Number"}},limit:{serializedName:"limit",required:!0,type:{name:"Number"}}}}},J={serializedName:"documentModelBuild",type:{name:"Composite",className:"DocumentModelBuildOperationDetails",uberParent:"OperationDetails",polymorphicDiscriminator:z.type.polymorphicDiscriminator,modelProperties:Object.assign(Object.assign({},z.type.modelProperties),{result:{serializedName:"result",type:{name:"Composite",className:"DocumentModelDetails"}}})}},Y={serializedName:"documentModelCompose",type:{name:"Composite",className:"DocumentModelComposeOperationDetails",uberParent:"OperationDetails",polymorphicDiscriminator:z.type.polymorphicDiscriminator,modelProperties:Object.assign(Object.assign({},z.type.modelProperties),{result:{serializedName:"result",type:{name:"Composite",className:"DocumentModelDetails"}}})}},Q={serializedName:"documentModelCopyTo",type:{name:"Composite",className:"DocumentModelCopyToOperationDetails",uberParent:"OperationDetails",polymorphicDiscriminator:z.type.polymorphicDiscriminator,modelProperties:Object.assign(Object.assign({},z.type.modelProperties),{result:{serializedName:"result",type:{name:"Composite",className:"DocumentModelDetails"}}})}},j={type:{name:"Composite",className:"GeneratedClientAnalyzeDocumentHeaders",modelProperties:{operationLocation:{serializedName:"operation-location",type:{name:"String"}}}}},X={type:{name:"Composite",className:"GeneratedClientBuildDocumentModelHeaders",modelProperties:{operationLocation:{serializedName:"operation-location",type:{name:"String"}}}}},ee={type:{name:"Composite",className:"GeneratedClientComposeDocumentModelHeaders",modelProperties:{operationLocation:{serializedName:"operation-location",type:{name:"String"}}}}},te={type:{name:"Composite",className:"GeneratedClientCopyDocumentModelToHeaders",modelProperties:{operationLocation:{serializedName:"operation-location",type:{name:"String"}}}}};let rt={OperationDetails:z,"OperationDetails.documentModelBuild":J,"OperationDetails.documentModelCompose":Y,"OperationDetails.documentModelCopyTo":Q};var ae=Object.freeze(Object.defineProperty({__proto__:null,AnalyzeDocumentRequest:U,ErrorResponse:u,ErrorModel:Ae,InnerError:Ie,AnalyzeResultOperation:_,AnalyzeResult:xe,DocumentPage:we,DocumentSpan:_e,DocumentWord:Ee,DocumentSelectionMark:Ve,DocumentLine:ke,DocumentParagraph:je,BoundingRegion:Le,DocumentTable:Be,DocumentTableCell:Fe,DocumentKeyValuePair:Ge,DocumentKeyValueElement:Ue,DocumentStyle:He,DocumentLanguage:Ze,Document:Ke,DocumentField:$e,CurrencyValue:We,AddressValue:Je,BuildDocumentModelRequest:H,AzureBlobContentSource:Ye,ComposeDocumentModelRequest:Z,ComponentDocumentModelDetails:Qe,AuthorizeCopyRequest:K,CopyAuthorization:E,GetOperationsResponse:V,OperationSummary:Xe,OperationDetails:z,GetDocumentModelsResponse:k,DocumentModelSummary:et,DocumentModelDetails:$,DocumentTypeDetails:tt,DocumentFieldSchema:at,ResourceDetails:W,CustomDocumentModelsDetails:nt,DocumentModelBuildOperationDetails:J,DocumentModelComposeOperationDetails:Y,DocumentModelCopyToOperationDetails:Q,GeneratedClientAnalyzeDocumentHeaders:j,GeneratedClientBuildDocumentModelHeaders:X,GeneratedClientComposeDocumentModelHeaders:ee,GeneratedClientCopyDocumentModelToHeaders:te,discriminators:rt},Symbol.toStringTag,{value:"Module"}));const it={parameterPath:"contentType",mapper:{serializedName:"Content-Type",required:!0,type:{name:"Enum",allowedValues:["application/octet-stream","application/pdf","image/bmp","image/heif","image/jpeg","image/png","image/tiff"]}}},st={parameterPath:["options","analyzeRequest"],mapper:{serializedName:"analyzeRequest",type:{name:"Stream"}}},ot={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},mt={parameterPath:"contentType",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},lt={parameterPath:["options","analyzeRequest"],mapper:U},c={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},p={parameterPath:"endpoint",mapper:{serializedName:"endpoint",required:!0,type:{name:"String"}},skipEncoding:!0},P={parameterPath:"modelId",mapper:{constraints:{Pattern:new RegExp("[a-zA-Z0-9][a-zA-Z0-9._~-]{1,63}")},serializedName:"modelId",required:!0,type:{name:"String"}}},ne={parameterPath:["options","pages"],mapper:{constraints:{Pattern:new RegExp("^(\\d+(-\\d+)?)(,\\s*(\\d+(-\\d+)?))*$")},serializedName:"pages",type:{name:"String"}}},re={parameterPath:["options","locale"],mapper:{serializedName:"locale",type:{name:"String"}}},ie={parameterPath:"stringIndexType",mapper:{serializedName:"stringIndexType",type:{name:"String"}}},d={parameterPath:"apiVersion",mapper:{defaultValue:"2022-08-31",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},ut={parameterPath:"resultId",mapper:{serializedName:"resultId",required:!0,type:{name:"String"}}},I={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},ct={parameterPath:"buildRequest",mapper:H},pt={parameterPath:"composeRequest",mapper:Z},dt={parameterPath:"authorizeCopyRequest",mapper:K},yt={parameterPath:"copyToRequest",mapper:E},gt={parameterPath:"operationId",mapper:{serializedName:"operationId",required:!0,type:{name:"String"}}},se={parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0};function oe(a){return a.innererror!==void 0&&a.innererror.message!==void 0?oe(a.innererror):a}class Nt extends Error{constructor(e){var t;const n=oe(e);super(n.message),this.code=n.code,this.details=(t=n.details)!==null&&t!==void 0?t:[],this.target=n.target}}function O(a){const e=[];if(!!a){if(a.length%2!==0)throw new Error("Unexpected number of points in the response, unable to translate as 2D points");for(let t=0;t<a.length;t+=2)e.push({x:a[t],y:a[t+1]});return e}}function b(a){return a==null?void 0:a.map(e=>Object.assign(Object.assign({},e),{polygon:O(e.polygon)}))}function ht(a){return Object.assign(Object.assign({},a),{boundingRegions:b(a.boundingRegions),cells:a.cells.map(e=>Object.assign(Object.assign({},e),{boundingRegions:b(e.boundingRegions)}))})}function zt(a){var e;return Object.assign(Object.assign({},a),{key:Object.assign(Object.assign({},a.key),{boundingRegions:b(a.key.boundingRegions)}),value:a.value?Object.assign(Object.assign({},a.value),{boundingRegions:b((e=a.value)===null||e===void 0?void 0:e.boundingRegions)}):void 0})}const Dt="Ocp-Apim-Subscription-Key";function St(a){return{name:"cognitiveServicesApimSubscriptionKeyCredentialPolicy",sendRequest(e,t){return e.headers.set(Dt,a.key),t(e)}}}class Ct extends Ne{constructor(e,t){var n,r;if(e===void 0)throw new Error("'endpoint' cannot be null");t||(t={});const s={requestContentType:"application/json; charset=utf-8"},o="azsdk-js-ai-form-recognizer/4.0.0",i=t.userAgentOptions&&t.userAgentOptions.userAgentPrefix?`${t.userAgentOptions.userAgentPrefix} ${o}`:`${o}`,m=Object.assign(Object.assign(Object.assign({},s),t),{userAgentOptions:{userAgentPrefix:i},baseUri:(r=(n=t.endpoint)!==null&&n!==void 0?n:t.baseUri)!==null&&r!==void 0?r:"{endpoint}/formrecognizer"});super(m),(t==null?void 0:t.pipeline)&&t.pipeline.getOrderedPolicies().length>0&&(t.pipeline.getOrderedPolicies().some(S=>S.name===L)||(this.pipeline.removePolicy({name:L}),this.pipeline.addPolicy(F({scopes:`${m.baseUri}/.default`,challengeCallbacks:{authorizeRequestOnChallenge:Pe}})))),this.endpoint=e,this.apiVersion=t.apiVersion||"2022-08-31",this.addCustomApiVersionPolicy(t.apiVersion)}addCustomApiVersionPolicy(e){if(!e)return;const t={name:"CustomApiVersionPolicy",async sendRequest(n,r){const s=n.url.split("?");if(s.length>1){const o=s[1].split("&").map(i=>i.indexOf("api-version")>-1?"api-version="+e:i);n.url=s[0]+"?"+o.join("&")}return r(n)}};this.pipeline.addPolicy(t)}listOperations(e){const t=this.getOperationsPagingAll(e);return{next(){return t.next()},[Symbol.asyncIterator](){return this},byPage:()=>this.getOperationsPagingPage(e)}}getOperationsPagingPage(e){return R(this,arguments,function*(){let n=yield N(this._getOperations(e));yield yield N(n.value||[]);let r=n.nextLink;for(;r;)n=yield N(this._getOperationsNext(r,e)),r=n.nextLink,yield yield N(n.value||[])})}getOperationsPagingAll(e){return R(this,arguments,function*(){var n,r;try{for(var s=T(this.getOperationsPagingPage(e)),o;o=yield N(s.next()),!o.done;){const i=o.value;yield N(yield*B(T(i)))}}catch(i){n={error:i}}finally{try{o&&!o.done&&(r=s.return)&&(yield N(r.call(s)))}finally{if(n)throw n.error}}})}listDocumentModels(e){const t=this.getDocumentModelsPagingAll(e);return{next(){return t.next()},[Symbol.asyncIterator](){return this},byPage:()=>this.getDocumentModelsPagingPage(e)}}getDocumentModelsPagingPage(e){return R(this,arguments,function*(){let n=yield N(this._getDocumentModels(e));yield yield N(n.value||[]);let r=n.nextLink;for(;r;)n=yield N(this._getDocumentModelsNext(r,e)),r=n.nextLink,yield yield N(n.value||[])})}getDocumentModelsPagingAll(e){return R(this,arguments,function*(){var n,r;try{for(var s=T(this.getDocumentModelsPagingPage(e)),o;o=yield N(s.next()),!o.done;){const i=o.value;yield N(yield*B(T(i)))}}catch(i){n={error:i}}finally{try{o&&!o.done&&(r=s.return)&&(yield N(r.call(s)))}finally{if(n)throw n.error}}})}analyzeDocument(...e){let t,n,r;if(e[1]==="application/octet-stream"||e[1]==="application/pdf"||e[1]==="image/bmp"||e[1]==="image/heif"||e[1]==="image/jpeg"||e[1]==="image/png"||e[1]==="image/tiff")t=ft,n={modelId:e[0],contentType:e[1],options:e[2]},r=e[2];else if(e[1]==="application/json")t=bt,n={modelId:e[0],contentType:e[1],options:e[2]},r=e[2];else throw new TypeError(`"contentType" must be a valid value but instead was "${e[1]}".`);return n.options=r||{},this.sendOperationRequest(n,t)}getAnalyzeDocumentResult(e,t,n){return this.sendOperationRequest({modelId:e,resultId:t,options:n},Pt)}buildDocumentModel(e,t){return this.sendOperationRequest({buildRequest:e,options:t},Mt)}composeDocumentModel(e,t){return this.sendOperationRequest({composeRequest:e,options:t},vt)}authorizeCopyDocumentModel(e,t){return this.sendOperationRequest({authorizeCopyRequest:e,options:t},qt)}copyDocumentModelTo(e,t,n){return this.sendOperationRequest({modelId:e,copyToRequest:t,options:n},Ot)}_getOperations(e){return this.sendOperationRequest({options:e},Rt)}getOperation(e,t){return this.sendOperationRequest({operationId:e,options:t},Tt)}_getDocumentModels(e){return this.sendOperationRequest({options:e},At)}getDocumentModel(e,t){return this.sendOperationRequest({modelId:e,options:t},It)}deleteDocumentModel(e,t){return this.sendOperationRequest({modelId:e,options:t},xt)}getResourceDetails(e){return this.sendOperationRequest({options:e},wt)}_getOperationsNext(e,t){return this.sendOperationRequest({nextLink:e,options:t},_t)}_getDocumentModelsNext(e,t){return this.sendOperationRequest({nextLink:e,options:t},Et)}}const y=G(ae,!1),ft={path:"/documentModels/{modelId}:analyze",httpMethod:"POST",responses:{202:{headersMapper:j},default:{bodyMapper:u}},requestBody:st,queryParameters:[ne,re,ie,d],urlParameters:[p,P],headerParameters:[it,ot],mediaType:"binary",serializer:y},bt={path:"/documentModels/{modelId}:analyze",httpMethod:"POST",responses:{202:{headersMapper:j},default:{bodyMapper:u}},requestBody:lt,queryParameters:[ne,re,ie,d],urlParameters:[p,P],headerParameters:[mt,c],mediaType:"json",serializer:y},Pt={path:"/documentModels/{modelId}/analyzeResults/{resultId}",httpMethod:"GET",responses:{200:{bodyMapper:_},default:{bodyMapper:u}},queryParameters:[d],urlParameters:[p,P,ut],headerParameters:[c],serializer:y},Mt={path:"/documentModels:build",httpMethod:"POST",responses:{202:{headersMapper:X},default:{bodyMapper:u}},requestBody:ct,queryParameters:[d],urlParameters:[p],headerParameters:[c,I],mediaType:"json",serializer:y},vt={path:"/documentModels:compose",httpMethod:"POST",responses:{202:{headersMapper:ee},default:{bodyMapper:u}},requestBody:pt,queryParameters:[d],urlParameters:[p],headerParameters:[c,I],mediaType:"json",serializer:y},qt={path:"/documentModels:authorizeCopy",httpMethod:"POST",responses:{200:{bodyMapper:E},default:{bodyMapper:u}},requestBody:dt,queryParameters:[d],urlParameters:[p],headerParameters:[c,I],mediaType:"json",serializer:y},Ot={path:"/documentModels/{modelId}:copyTo",httpMethod:"POST",responses:{202:{headersMapper:te},default:{bodyMapper:u}},requestBody:yt,queryParameters:[d],urlParameters:[p,P],headerParameters:[c,I],mediaType:"json",serializer:y},Rt={path:"/operations",httpMethod:"GET",responses:{200:{bodyMapper:V},default:{bodyMapper:u}},queryParameters:[d],urlParameters:[p],headerParameters:[c],serializer:y},Tt={path:"/operations/{operationId}",httpMethod:"GET",responses:{200:{bodyMapper:z},default:{bodyMapper:u}},queryParameters:[d],urlParameters:[p,gt],headerParameters:[c],serializer:y},At={path:"/documentModels",httpMethod:"GET",responses:{200:{bodyMapper:k},default:{bodyMapper:u}},queryParameters:[d],urlParameters:[p],headerParameters:[c],serializer:y},It={path:"/documentModels/{modelId}",httpMethod:"GET",responses:{200:{bodyMapper:$},default:{bodyMapper:u}},queryParameters:[d],urlParameters:[p,P],headerParameters:[c],serializer:y},xt={path:"/documentModels/{modelId}",httpMethod:"DELETE",responses:{204:{},default:{bodyMapper:u}},queryParameters:[d],urlParameters:[p,P],headerParameters:[c],serializer:y},wt={path:"/info",httpMethod:"GET",responses:{200:{bodyMapper:W},default:{bodyMapper:u}},queryParameters:[d],urlParameters:[p],headerParameters:[c],serializer:y},_t={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:V},default:{bodyMapper:u}},queryParameters:[d],urlParameters:[p,se],headerParameters:[c],serializer:y},Et={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:k},default:{bodyMapper:u}},queryParameters:[d],urlParameters:[p,se],headerParameters:[c],serializer:y},Vt={Latest:"2022-08-31",Stable:"2022-08-31"},kt={Utf16CodeUnit:"utf16CodeUnit",UnicodeCodePoint:"unicodeCodePoint"},me={stringIndexType:kt.Utf16CodeUnit,apiVersion:Vt.Stable},jt=G(ae,!1),Lt=a=>a.substring(0,1).toUpperCase()+a.substring(1),Bt=(a,e)=>a===void 0?void 0:e(a);function Ft(a,e,t){const n=new Ct(a==null?void 0:a.replace(/\/$/,""),Object.assign(Object.assign({},me),t)),r=ze(e)?F({credential:e,scopes:Re}):St(e);return n.pipeline.addPolicy(r),n}function le(a){return Object.entries(a!=null?a:{}).reduce((e,[t,n])=>(e[t]=ue(n),e),{})}function ue(a){const e=a.type,t=(()=>{var n,r;switch(e){case"string":case"date":case"time":case"phoneNumber":case"number":case"integer":case"selectionMark":case"countryRegion":case"signature":case"currency":case"address":return{value:a["value"+Lt(e)]};case"array":return{values:(n=a.valueArray)===null||n===void 0?void 0:n.map(o=>{var i;return(i=ue(o))!==null&&i!==void 0?i:[]})};case"object":return{properties:le((r=a.valueObject)!==null&&r!==void 0?r:{})};default:const s=e;throw new Error(`Unrecognized DocumentField type: ${s}`)}})();return Object.assign(Object.assign({kind:e},t),{boundingRegions:b(a.boundingRegions),content:a.content,spans:a.spans,confidence:a.confidence})}function Gt(a){var e;return Object.assign(Object.assign({},a),{boundingRegions:b(a.boundingRegions),fields:le((e=a.fields)!==null&&e!==void 0?e:{})})}function Ut(a,e){return a.offset<=e.offset&&a.offset+a.length>=e.offset+e.length}function*Ht(){}function*ce(a,e){let t=e;for(;t<a.length;)yield a[t++]}function Zt(a,e){return a.words=()=>{var t,n;return Wt(ce(a.spans,0),(n=(t=e.words)===null||t===void 0?void 0:t.map(r=>Object.assign(Object.assign({},r),{polygon:O(r.polygon)})))!==null&&n!==void 0?n:[])},a.polygon=O(a.polygon),Object.defineProperty(a,"words",{enumerable:!1}),a}function Kt(a){var e,t,n;return Object.assign(Object.assign({},a),{lines:(e=a.lines)===null||e===void 0?void 0:e.map(r=>Zt(r,a)),selectionMarks:(t=a.selectionMarks)===null||t===void 0?void 0:t.map(r=>Object.assign(Object.assign({},r),{polygon:O(r.polygon)})),words:(n=a.words)===null||n===void 0?void 0:n.map(r=>Object.assign(Object.assign({},r),{polygon:O(r.polygon)}))})}function $t(a,e){let t=Math.floor(e.length/2),n=t,r=0,s=e.length;const o=()=>{var i,m,l;return e[t].span.offset>=a.offset&&((l=(m=(i=e[t-1])===null||i===void 0?void 0:i.span)===null||m===void 0?void 0:m.offset)!==null&&l!==void 0?l:-1)<a.offset};do{if(o())return ce(e,t);a.offset>e[t].span.offset?(r=n=t,t=Math.floor(t+(s-t)/2)):(s=n=t,t=Math.floor(t-(t-r)/2))}while(t!==n);return Ht()}function*Wt(a,e){let t=a.next();if(t.done)return;const n=$t(t.value,e);let r=n.next();for(;!(r.done||t.done);)Ut(t.value,r.value.span)?(yield r.value,r=n.next()):t.value.offset+t.value.length<r.value.span.offset?t=a.next():r=n.next()}function Jt(a){var e,t,n,r;return{apiVersion:a.apiVersion,modelId:a.modelId,content:a.content,pages:a.pages.map(s=>Kt(s)),tables:(e=a.tables)===null||e===void 0?void 0:e.map(s=>ht(s)),keyValuePairs:(t=a.keyValuePairs)===null||t===void 0?void 0:t.map(s=>zt(s)),languages:a.languages,styles:a.styles,paragraphs:(n=a.paragraphs)===null||n===void 0?void 0:n.map(s=>Object.assign(Object.assign({},s),{boundingRegions:b(s.boundingRegions)})),documents:(r=a.documents)===null||r===void 0?void 0:r.map(Gt)}}function w(a,e,t,n){return{status:n.status,modelId:e,lastUpdatedOn:n.lastUpdatedOn,createdOn:n.createdOn,operationLocation:t,result:n.analyzeResult&&a.transformResult(n.analyzeResult),error:n.error&&new Nt(n.error),isCancelled:!1,isStarted:n.status!=="notStarted",isCompleted:n.status==="succeeded"}}const Yt="The local operation (timer) was interrupted or cancelled.";function Qt(a){let e=!1,t;return Object.assign(new Promise((n,r)=>{let s;t=()=>{Bt(s,clearTimeout),r(Yt)},e?t():s=setTimeout(n,a)}),{cancel:()=>{e=!0,t==null||t()}})}const Xt=5e3;async function ea(a,e){let t=typeof a.init=="function"?await a.init():a.init,n,r;const s=new Map,o=async()=>s.forEach(m=>m(t)),i={onProgress:m=>{const l=Symbol();return s.set(l,m),()=>s.delete(l)},stopPolling:()=>r==null?void 0:r(),poll:async()=>{t=await a.poll(t),o()},pollUntilDone:()=>n!=null?n:n=(async()=>{if(!i.isDone())for(await i.poll();!i.isDone();){const l=Qt(e!=null?e:Xt);r=l.cancel,await l.then(()=>i.poll())}const m=i.getResult();if(m!==void 0)return m;throw t.error!==void 0?t.error:new Error(`Internal Client Error: analysis poller completed without success or error: ${t}`)})().finally(()=>{n=void 0}),isStopped:()=>!!n,isDone:()=>!!t.result||!!t.error,cancelOperation(){throw new Error("The Azure Form Recognizer service does not support operation cancellation.")},getOperationState:()=>t,getResult:()=>t.result,toString:()=>a.serialize(t)};return i}class ta{constructor(e,t,n={}){var r;this._restClient=Ft(e,t,n),this._tracing=Oe({packageName:"@azure/ai-form-recognizer",packageVersion:Te,namespace:"Microsoft.CognitiveServices"}),this._apiVersion=(r=n.apiVersion)!==null&&r!==void 0?r:me.apiVersion}async beginAnalyzeDocument(e,t,n={}){return this._tracing.withSpan("DocumentAnalysisClient.beginAnalyzeDocument",n,this.analyze.bind(this,e,t))}async beginAnalyzeDocumentFromUrl(e,t,n={}){return this._tracing.withSpan("DocumentAnalysisClient.beginAnalyzeDocumentFromUrl",n,this.analyze.bind(this,e,t))}analyze(e,t,n){const{modelId:r,apiVersion:s,transformResult:o}=typeof e=="string"?{modelId:e,apiVersion:void 0,transformResult:i=>i}:e;if(s&&s!==this._apiVersion)throw new Error([`API Version mismatch: the provided model wants version: ${s}, but the client is using ${this._apiVersion}.`,"The API version of the model must match the client's API version."].join(`
`));return this.createAnalysisPoller(t,{initialModelId:r,options:n,transformResult:i=>o(Jt(i))})}async createAnalysisPoller(e,t){const{resumeFrom:n}=t.options,r=i=>this._tracing.withSpan("DocumentAnalysisClient.createAnalysisPoller-getAnalyzeResult",t.options,m=>this._restClient.sendOperationRequest({options:m},{path:i,httpMethod:"GET",responses:{200:{bodyMapper:_},default:{bodyMapper:u}},headerParameters:[c],serializer:jt})),o=await ea({init:n!==void 0?async()=>this._tracing.withSpan("DocumentAnalysisClient.createAnalysisPoller-resume",t.options,async()=>{const{operationLocation:i,modelId:m}=JSON.parse(n),l=await r(i);return w(t,m,i,l)}):async()=>this._tracing.withSpan("DocumentAnalysisClient.createAnalysisPoller-start",t.options,async()=>{const[i,m]=aa(e),{operationLocation:l}=await this._restClient.analyzeDocument(t.initialModelId,i,Object.assign(Object.assign({},t.options),{analyzeRequest:m}));if(l===void 0)throw new Error("Unable to start analysis operation: no Operation-Location received.");const g=await r(l);return w(t,t.initialModelId,l,g)}),poll:async({operationLocation:i,modelId:m})=>this._tracing.withSpan("DocumentAnalysisClient.createAnalysisPoller-poll",{},async()=>{const l=await r(i);return w(t,m,i,l)}),serialize:({operationLocation:i,modelId:m})=>JSON.stringify({modelId:m,operationLocation:i})},t.options.updateIntervalInMs);return t.options.onProgress!==void 0&&(o.onProgress(t.options.onProgress),t.options.onProgress(o.getOperationState())),o}}function aa(a){return typeof a=="string"?["application/json",{urlSource:a}]:["application/octet-stream",a]}const na=h("input",{type:"text",placeholder:"Link to the receipt you want to analyze ...",class:"input input-bordered w-1/3",id:"imagelink1"},null,-1),ra=h("p",{id:"merchant"},null,-1),ia=h("p",{id:"total"},null,-1),sa=h("img",{id:"image"},null,-1),oa=h("div",null,[h("canvas",{id:"canvas",width:"300",height:"200"})],-1),da=De({__name:"FormView",setup(a){const e=de();var t="";const n="https://"+e.azureregion+".api.cognitive.microsoft.com/",r=new he(e.apikey);async function s(){t=document.getElementById("imagelink1").value,document.getElementById("image").src="";const i=await new ta(n,r).beginAnalyzeDocument("prebuilt-receipt",t),{documents:[m]}=await i.pollUntilDone();document.getElementById("merchant").innerHTML="Merchant name: "+JSON.stringify(m.fields.MerchantName.value).slice(1,-1),document.getElementById("total").innerHTML="Total price: "+JSON.stringify(m.fields.Total.value),document.getElementById("image").src=t}return(o,i)=>(Se(),Ce(fe,null,[h("div",{class:"form-control"},[h("div",{class:"input-group"},[na,h("button",{class:"btn",onClick:s},"Analyze")])]),ra,ia,sa,oa],64))}});export{da as default};
