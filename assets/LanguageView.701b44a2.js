import{d as Tt,o as bt,c as zt,a as u,w as Et,v as Ot,u as kt,i as vt,F as Ct,e as Se}from"./index.e0d5fc43.js";import{u as At}from"./settings.fe6fa44e.js";import{S as Rt,c as xt,a as It,_ as U,R as qt,b as ee,d as Ne,e as S,f as wt,g as _t,A as Dt}from"./serviceClient.f662b2eb.js";import{i as jt}from"./tokenCredential.b04f4687.js";import"./v4.90f1a8cc.js";const Lt="5.1.0",ve={type:{name:"Composite",className:"JobDescriptor",modelProperties:{displayName:{serializedName:"displayName",type:{name:"String"}}}}},Ce={type:{name:"Composite",className:"AnalysisInput",modelProperties:{analysisInput:{serializedName:"analysisInput",type:{name:"Composite",className:"MultiLanguageBatchInput"}}}}},Ae={type:{name:"Composite",className:"MultiLanguageBatchInput",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextDocumentInput"}}}}}}},Mt={type:{name:"Composite",className:"TextDocumentInput",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},text:{serializedName:"text",required:!0,type:{name:"String"}},language:{serializedName:"language",type:{name:"String"}}}}},Re={type:{name:"Composite",className:"JobManifest",modelProperties:{tasks:{serializedName:"tasks",type:{name:"Composite",className:"JobManifestTasks"}}}}},Ht={type:{name:"Composite",className:"JobManifestTasks",modelProperties:{entityRecognitionTasks:{serializedName:"entityRecognitionTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"EntitiesTask"}}}},entityRecognitionPiiTasks:{serializedName:"entityRecognitionPiiTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"PiiTask"}}}},keyPhraseExtractionTasks:{serializedName:"keyPhraseExtractionTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"KeyPhrasesTask"}}}},entityLinkingTasks:{serializedName:"entityLinkingTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"EntityLinkingTask"}}}},sentimentAnalysisTasks:{serializedName:"sentimentAnalysisTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"SentimentAnalysisTask"}}}}}}},Vt={type:{name:"Composite",className:"EntitiesTask",modelProperties:{parameters:{serializedName:"parameters",type:{name:"Composite",className:"EntitiesTaskParameters"}}}}},Bt={type:{name:"Composite",className:"EntitiesTaskParameters",modelProperties:{modelVersion:{defaultValue:"latest",serializedName:"model-version",type:{name:"String"}},loggingOptOut:{serializedName:"loggingOptOut",type:{name:"Boolean"}},stringIndexType:{serializedName:"stringIndexType",type:{name:"String"}}}}},$t={type:{name:"Composite",className:"PiiTask",modelProperties:{parameters:{serializedName:"parameters",type:{name:"Composite",className:"PiiTaskParameters"}}}}},Kt={type:{name:"Composite",className:"PiiTaskParameters",modelProperties:{domain:{defaultValue:"none",serializedName:"domain",type:{name:"String"}},modelVersion:{defaultValue:"latest",serializedName:"model-version",type:{name:"String"}},loggingOptOut:{defaultValue:!0,serializedName:"loggingOptOut",type:{name:"Boolean"}},piiCategories:{constraints:{UniqueItems:!0},serializedName:"piiCategories",type:{name:"Sequence",element:{type:{name:"String"}}}},stringIndexType:{serializedName:"stringIndexType",type:{name:"String"}}}}},Ut={type:{name:"Composite",className:"KeyPhrasesTask",modelProperties:{parameters:{serializedName:"parameters",type:{name:"Composite",className:"KeyPhrasesTaskParameters"}}}}},Gt={type:{name:"Composite",className:"KeyPhrasesTaskParameters",modelProperties:{modelVersion:{defaultValue:"latest",serializedName:"model-version",type:{name:"String"}},loggingOptOut:{serializedName:"loggingOptOut",type:{name:"Boolean"}}}}},Jt={type:{name:"Composite",className:"EntityLinkingTask",modelProperties:{parameters:{serializedName:"parameters",type:{name:"Composite",className:"EntityLinkingTaskParameters"}}}}},Ft={type:{name:"Composite",className:"EntityLinkingTaskParameters",modelProperties:{modelVersion:{defaultValue:"latest",serializedName:"model-version",type:{name:"String"}},loggingOptOut:{serializedName:"loggingOptOut",type:{name:"Boolean"}},stringIndexType:{serializedName:"stringIndexType",type:{name:"String"}}}}},Wt={type:{name:"Composite",className:"SentimentAnalysisTask",modelProperties:{parameters:{serializedName:"parameters",type:{name:"Composite",className:"SentimentAnalysisTaskParameters"}}}}},Xt={type:{name:"Composite",className:"SentimentAnalysisTaskParameters",modelProperties:{modelVersion:{defaultValue:"latest",serializedName:"model-version",type:{name:"String"}},loggingOptOut:{serializedName:"loggingOptOut",type:{name:"Boolean"}},opinionMining:{serializedName:"opinionMining",type:{name:"Boolean"}},stringIndexType:{serializedName:"stringIndexType",type:{name:"String"}}}}},f={type:{name:"Composite",className:"ErrorResponse",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"TextAnalyticsError"}}}}},Yt={type:{name:"Composite",className:"TextAnalyticsError",modelProperties:{code:{serializedName:"code",required:!0,type:{name:"String"}},message:{serializedName:"message",required:!0,type:{name:"String"}},target:{serializedName:"target",type:{name:"String"}},innererror:{serializedName:"innererror",type:{name:"Composite",className:"InnerError"}},details:{serializedName:"details",type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsError"}}}}}}},Qt={type:{name:"Composite",className:"InnerError",modelProperties:{code:{serializedName:"code",required:!0,type:{name:"String"}},message:{serializedName:"message",required:!0,type:{name:"String"}},details:{serializedName:"details",type:{name:"Dictionary",value:{type:{name:"String"}}}},target:{serializedName:"target",type:{name:"String"}},innererror:{serializedName:"innererror",type:{name:"Composite",className:"InnerError"}}}}},ae={type:{name:"Composite",className:"JobMetadata",modelProperties:{createdDateTime:{serializedName:"createdDateTime",required:!0,type:{name:"DateTime"}},expirationDateTime:{serializedName:"expirationDateTime",type:{name:"DateTime"}},jobId:{serializedName:"jobId",required:!0,type:{name:"Uuid"}},lastUpdateDateTime:{serializedName:"lastUpdateDateTime",required:!0,type:{name:"DateTime"}},status:{serializedName:"status",required:!0,type:{name:"Enum",allowedValues:["notStarted","running","succeeded","failed","rejected","cancelled","cancelling"]}}}}},xe={type:{name:"Composite",className:"AnalyzeJobDisplayName",modelProperties:{displayName:{serializedName:"displayName",type:{name:"String"}}}}},Ie={type:{name:"Composite",className:"TasksState",modelProperties:{tasks:{serializedName:"tasks",type:{name:"Composite",className:"TasksStateTasks"}}}}},Zt={type:{name:"Composite",className:"TasksStateTasks",modelProperties:{completed:{serializedName:"completed",required:!0,type:{name:"Number"}},failed:{serializedName:"failed",required:!0,type:{name:"Number"}},inProgress:{serializedName:"inProgress",required:!0,type:{name:"Number"}},total:{serializedName:"total",required:!0,type:{name:"Number"}},entityRecognitionTasks:{serializedName:"entityRecognitionTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"TasksStateTasksEntityRecognitionTasksItem"}}}},entityRecognitionPiiTasks:{serializedName:"entityRecognitionPiiTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"TasksStateTasksEntityRecognitionPiiTasksItem"}}}},keyPhraseExtractionTasks:{serializedName:"keyPhraseExtractionTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"TasksStateTasksKeyPhraseExtractionTasksItem"}}}},entityLinkingTasks:{serializedName:"entityLinkingTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"TasksStateTasksEntityLinkingTasksItem"}}}},sentimentAnalysisTasks:{serializedName:"sentimentAnalysisTasks",type:{name:"Sequence",element:{type:{name:"Composite",className:"TasksStateTasksSentimentAnalysisTasksItem"}}}}}}},q={type:{name:"Composite",className:"TaskState",modelProperties:{lastUpdateDateTime:{serializedName:"lastUpdateDateTime",required:!0,type:{name:"DateTime"}},status:{serializedName:"status",required:!0,type:{name:"Enum",allowedValues:["notStarted","running","succeeded","failed","rejected","cancelled","cancelling"]}}}}},qe={type:{name:"Composite",className:"EntitiesTaskResult",modelProperties:{results:{serializedName:"results",type:{name:"Composite",className:"EntitiesResult"}}}}},we={type:{name:"Composite",className:"EntitiesResult",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentEntities"}}}},errors:{serializedName:"errors",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}},modelVersion:{serializedName:"modelVersion",required:!0,type:{name:"String"}}}}},en={type:{name:"Composite",className:"DocumentEntities",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},entities:{serializedName:"entities",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Entity"}}}},warnings:{serializedName:"warnings",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsWarning"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentStatistics"}}}}},tn={type:{name:"Composite",className:"Entity",modelProperties:{text:{serializedName:"text",required:!0,type:{name:"String"}},category:{serializedName:"category",required:!0,type:{name:"String"}},subCategory:{serializedName:"subcategory",type:{name:"String"}},offset:{serializedName:"offset",required:!0,type:{name:"Number"}},length:{serializedName:"length",required:!0,type:{name:"Number"}},confidenceScore:{serializedName:"confidenceScore",required:!0,type:{name:"Number"}}}}},nn={type:{name:"Composite",className:"TextAnalyticsWarning",modelProperties:{code:{serializedName:"code",required:!0,type:{name:"String"}},message:{serializedName:"message",required:!0,type:{name:"String"}}}}},sn={type:{name:"Composite",className:"TextDocumentStatistics",modelProperties:{characterCount:{serializedName:"charactersCount",required:!0,type:{name:"Number"}},transactionCount:{serializedName:"transactionsCount",required:!0,type:{name:"Number"}}}}},an={type:{name:"Composite",className:"DocumentError",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},error:{serializedName:"error",type:{name:"Composite",className:"TextAnalyticsError"}}}}},rn={type:{name:"Composite",className:"TextDocumentBatchStatistics",modelProperties:{documentCount:{serializedName:"documentsCount",required:!0,type:{name:"Number"}},validDocumentCount:{serializedName:"validDocumentsCount",required:!0,type:{name:"Number"}},erroneousDocumentCount:{serializedName:"erroneousDocumentsCount",required:!0,type:{name:"Number"}},transactionCount:{serializedName:"transactionsCount",required:!0,type:{name:"Number"}}}}},_e={type:{name:"Composite",className:"PiiTaskResult",modelProperties:{results:{serializedName:"results",type:{name:"Composite",className:"PiiResult"}}}}},De={type:{name:"Composite",className:"PiiResult",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"PiiDocumentEntities"}}}},errors:{serializedName:"errors",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}},modelVersion:{serializedName:"modelVersion",required:!0,type:{name:"String"}}}}},on={type:{name:"Composite",className:"PiiDocumentEntities",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},redactedText:{serializedName:"redactedText",required:!0,type:{name:"String"}},entities:{serializedName:"entities",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Entity"}}}},warnings:{serializedName:"warnings",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsWarning"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentStatistics"}}}}},je={type:{name:"Composite",className:"KeyPhraseTaskResult",modelProperties:{results:{serializedName:"results",type:{name:"Composite",className:"KeyPhraseResult"}}}}},Le={type:{name:"Composite",className:"KeyPhraseResult",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentKeyPhrases"}}}},errors:{serializedName:"errors",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}},modelVersion:{serializedName:"modelVersion",required:!0,type:{name:"String"}}}}},ln={type:{name:"Composite",className:"DocumentKeyPhrases",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},keyPhrases:{serializedName:"keyPhrases",required:!0,type:{name:"Sequence",element:{type:{name:"String"}}}},warnings:{serializedName:"warnings",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsWarning"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentStatistics"}}}}},Me={type:{name:"Composite",className:"EntityLinkingTaskResult",modelProperties:{results:{serializedName:"results",type:{name:"Composite",className:"EntityLinkingResult"}}}}},He={type:{name:"Composite",className:"EntityLinkingResult",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentLinkedEntities"}}}},errors:{serializedName:"errors",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}},modelVersion:{serializedName:"modelVersion",required:!0,type:{name:"String"}}}}},cn={type:{name:"Composite",className:"DocumentLinkedEntities",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},entities:{serializedName:"entities",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"LinkedEntity"}}}},warnings:{serializedName:"warnings",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsWarning"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentStatistics"}}}}},mn={type:{name:"Composite",className:"LinkedEntity",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},matches:{serializedName:"matches",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"Match"}}}},language:{serializedName:"language",required:!0,type:{name:"String"}},dataSourceEntityId:{serializedName:"id",type:{name:"String"}},url:{serializedName:"url",required:!0,type:{name:"String"}},dataSource:{serializedName:"dataSource",required:!0,type:{name:"String"}},bingEntitySearchApiId:{serializedName:"bingId",type:{name:"String"}}}}},un={type:{name:"Composite",className:"Match",modelProperties:{confidenceScore:{serializedName:"confidenceScore",required:!0,type:{name:"Number"}},text:{serializedName:"text",required:!0,type:{name:"String"}},offset:{serializedName:"offset",required:!0,type:{name:"Number"}},length:{serializedName:"length",required:!0,type:{name:"Number"}}}}},Ve={type:{name:"Composite",className:"SentimentTaskResult",modelProperties:{results:{serializedName:"results",type:{name:"Composite",className:"SentimentResponse"}}}}},Be={type:{name:"Composite",className:"SentimentResponse",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentSentiment"}}}},errors:{serializedName:"errors",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}},modelVersion:{serializedName:"modelVersion",required:!0,type:{name:"String"}}}}},pn={type:{name:"Composite",className:"DocumentSentiment",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},sentiment:{serializedName:"sentiment",required:!0,type:{name:"Enum",allowedValues:["positive","neutral","negative","mixed"]}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentStatistics"}},confidenceScores:{serializedName:"confidenceScores",type:{name:"Composite",className:"SentimentConfidenceScores"}},sentenceSentiments:{serializedName:"sentences",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"SentenceSentiment"}}}},warnings:{serializedName:"warnings",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsWarning"}}}}}}},dn={type:{name:"Composite",className:"SentimentConfidenceScores",modelProperties:{positive:{serializedName:"positive",required:!0,type:{name:"Number"}},neutral:{serializedName:"neutral",required:!0,type:{name:"Number"}},negative:{serializedName:"negative",required:!0,type:{name:"Number"}}}}},yn={type:{name:"Composite",className:"SentenceSentiment",modelProperties:{text:{serializedName:"text",required:!0,type:{name:"String"}},sentiment:{serializedName:"sentiment",required:!0,type:{name:"Enum",allowedValues:["positive","neutral","negative"]}},confidenceScores:{serializedName:"confidenceScores",type:{name:"Composite",className:"SentimentConfidenceScores"}},offset:{serializedName:"offset",required:!0,type:{name:"Number"}},length:{serializedName:"length",required:!0,type:{name:"Number"}},targets:{serializedName:"targets",type:{name:"Sequence",element:{type:{name:"Composite",className:"SentenceTarget"}}}},assessments:{serializedName:"assessments",type:{name:"Sequence",element:{type:{name:"Composite",className:"SentenceAssessment"}}}}}}},gn={type:{name:"Composite",className:"SentenceTarget",modelProperties:{sentiment:{serializedName:"sentiment",required:!0,type:{name:"Enum",allowedValues:["positive","mixed","negative"]}},confidenceScores:{serializedName:"confidenceScores",type:{name:"Composite",className:"TargetConfidenceScoreLabel"}},offset:{serializedName:"offset",required:!0,type:{name:"Number"}},length:{serializedName:"length",required:!0,type:{name:"Number"}},text:{serializedName:"text",required:!0,type:{name:"String"}},relations:{serializedName:"relations",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TargetRelation"}}}}}}},hn={type:{name:"Composite",className:"TargetConfidenceScoreLabel",modelProperties:{positive:{serializedName:"positive",required:!0,type:{name:"Number"}},negative:{serializedName:"negative",required:!0,type:{name:"Number"}}}}},fn={type:{name:"Composite",className:"TargetRelation",modelProperties:{relationType:{serializedName:"relationType",required:!0,type:{name:"Enum",allowedValues:["assessment","target"]}},ref:{serializedName:"ref",required:!0,type:{name:"String"}}}}},Sn={type:{name:"Composite",className:"SentenceAssessment",modelProperties:{sentiment:{serializedName:"sentiment",required:!0,type:{name:"Enum",allowedValues:["positive","mixed","negative"]}},confidenceScores:{serializedName:"confidenceScores",type:{name:"Composite",className:"TargetConfidenceScoreLabel"}},offset:{serializedName:"offset",required:!0,type:{name:"Number"}},length:{serializedName:"length",required:!0,type:{name:"Number"}},text:{serializedName:"text",required:!0,type:{name:"String"}},isNegated:{serializedName:"isNegated",required:!0,type:{name:"Boolean"}}}}},$e={type:{name:"Composite",className:"AnalyzeJobErrorsAndStatistics",modelProperties:{errors:{serializedName:"errors",type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}}}}},ie={type:{name:"Composite",className:"Pagination",modelProperties:{nextLink:{serializedName:"@nextLink",type:{name:"String"}}}}},Ke={type:{name:"Composite",className:"HealthcareTaskResult",modelProperties:{results:{serializedName:"results",type:{name:"Composite",className:"HealthcareResult"}},errors:{serializedName:"errors",type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsError"}}}}}}},Nn={type:{name:"Composite",className:"HealthcareResult",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentHealthcareEntities"}}}},errors:{serializedName:"errors",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}},modelVersion:{serializedName:"modelVersion",required:!0,type:{name:"String"}}}}},Pn={type:{name:"Composite",className:"DocumentHealthcareEntities",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},entities:{serializedName:"entities",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"HealthcareEntity"}}}},relations:{serializedName:"relations",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"HealthcareRelation"}}}},warnings:{serializedName:"warnings",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsWarning"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentStatistics"}}}}},Ue={type:{name:"Composite",className:"HealthcareEntityProperties",modelProperties:{text:{serializedName:"text",required:!0,type:{name:"String"}},category:{serializedName:"category",required:!0,type:{name:"String"}},subcategory:{serializedName:"subcategory",type:{name:"String"}},offset:{serializedName:"offset",required:!0,type:{name:"Number"}},length:{serializedName:"length",required:!0,type:{name:"Number"}},confidenceScore:{serializedName:"confidenceScore",required:!0,type:{name:"Number"}}}}},Ge={type:{name:"Composite",className:"HealthcareLinkingProperties",modelProperties:{assertion:{serializedName:"assertion",type:{name:"Composite",className:"HealthcareAssertion"}},name:{serializedName:"name",type:{name:"String"}},links:{serializedName:"links",type:{name:"Sequence",element:{type:{name:"Composite",className:"HealthcareEntityLink"}}}}}}},Tn={type:{name:"Composite",className:"HealthcareAssertion",modelProperties:{conditionality:{serializedName:"conditionality",type:{name:"Enum",allowedValues:["hypothetical","conditional"]}},certainty:{serializedName:"certainty",type:{name:"Enum",allowedValues:["positive","positivePossible","neutralPossible","negativePossible","negative"]}},association:{serializedName:"association",type:{name:"Enum",allowedValues:["subject","other"]}}}}},bn={type:{name:"Composite",className:"HealthcareEntityLink",modelProperties:{dataSource:{serializedName:"dataSource",required:!0,type:{name:"String"}},id:{serializedName:"id",required:!0,type:{name:"String"}}}}},zn={type:{name:"Composite",className:"HealthcareRelation",modelProperties:{relationType:{serializedName:"relationType",required:!0,type:{name:"String"}},entities:{serializedName:"entities",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"HealthcareRelationEntity"}}}}}}},En={type:{name:"Composite",className:"HealthcareRelationEntity",modelProperties:{ref:{serializedName:"ref",required:!0,type:{name:"String"}},role:{serializedName:"role",required:!0,type:{name:"String"}}}}},Je={type:{name:"Composite",className:"LanguageBatchInput",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DetectLanguageInput"}}}}}}},On={type:{name:"Composite",className:"DetectLanguageInput",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},text:{serializedName:"text",required:!0,type:{name:"String"}},countryHint:{serializedName:"countryHint",type:{name:"String"}}}}},Fe={type:{name:"Composite",className:"LanguageResult",modelProperties:{documents:{serializedName:"documents",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentLanguage"}}}},errors:{serializedName:"errors",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"DocumentError"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentBatchStatistics"}},modelVersion:{serializedName:"modelVersion",required:!0,type:{name:"String"}}}}},kn={type:{name:"Composite",className:"DocumentLanguage",modelProperties:{id:{serializedName:"id",required:!0,type:{name:"String"}},detectedLanguage:{serializedName:"detectedLanguage",type:{name:"Composite",className:"DetectedLanguage"}},warnings:{serializedName:"warnings",required:!0,type:{name:"Sequence",element:{type:{name:"Composite",className:"TextAnalyticsWarning"}}}},statistics:{serializedName:"statistics",type:{name:"Composite",className:"TextDocumentStatistics"}}}}},vn={type:{name:"Composite",className:"DetectedLanguage",modelProperties:{name:{serializedName:"name",required:!0,type:{name:"String"}},iso6391Name:{serializedName:"iso6391Name",required:!0,type:{name:"String"}},confidenceScore:{serializedName:"confidenceScore",required:!0,type:{name:"Number"}}}}},We={type:{name:"Composite",className:"AnalyzeBatchInput",modelProperties:Object.assign(Object.assign(Object.assign({},ve.type.modelProperties),Ce.type.modelProperties),Re.type.modelProperties)}},Xe={type:{name:"Composite",className:"AnalyzeJobMetadata",modelProperties:Object.assign(Object.assign({},ae.type.modelProperties),xe.type.modelProperties)}},Ye={type:{name:"Composite",className:"HealthcareJobState",modelProperties:Object.assign(Object.assign(Object.assign({},ae.type.modelProperties),Ke.type.modelProperties),ie.type.modelProperties)}},Qe={type:{name:"Composite",className:"AnalyzeJobState",modelProperties:Object.assign(Object.assign(Object.assign(Object.assign({},Xe.type.modelProperties),Ie.type.modelProperties),$e.type.modelProperties),ie.type.modelProperties)}},Cn={type:{name:"Composite",className:"TasksStateTasksEntityRecognitionTasksItem",modelProperties:Object.assign(Object.assign({},q.type.modelProperties),qe.type.modelProperties)}},An={type:{name:"Composite",className:"TasksStateTasksEntityRecognitionPiiTasksItem",modelProperties:Object.assign(Object.assign({},q.type.modelProperties),_e.type.modelProperties)}},Rn={type:{name:"Composite",className:"TasksStateTasksKeyPhraseExtractionTasksItem",modelProperties:Object.assign(Object.assign({},q.type.modelProperties),je.type.modelProperties)}},xn={type:{name:"Composite",className:"TasksStateTasksEntityLinkingTasksItem",modelProperties:Object.assign(Object.assign({},q.type.modelProperties),Me.type.modelProperties)}},In={type:{name:"Composite",className:"TasksStateTasksSentimentAnalysisTasksItem",modelProperties:Object.assign(Object.assign({},q.type.modelProperties),Ve.type.modelProperties)}},qn={type:{name:"Composite",className:"HealthcareEntity",modelProperties:Object.assign(Object.assign({},Ue.type.modelProperties),Ge.type.modelProperties)}},Ze={type:{name:"Composite",className:"GeneratedClientAnalyzeHeaders",modelProperties:{operationLocation:{serializedName:"operation-location",type:{name:"String"}}}}},et={type:{name:"Composite",className:"GeneratedClientCancelHealthJobHeaders",modelProperties:{operationLocation:{serializedName:"operation-location",type:{name:"String"}}}}},tt={type:{name:"Composite",className:"GeneratedClientHealthHeaders",modelProperties:{operationLocation:{serializedName:"operation-location",type:{name:"String"}}}}};var wn=Object.freeze(Object.defineProperty({__proto__:null,JobDescriptor:ve,AnalysisInput:Ce,MultiLanguageBatchInput:Ae,TextDocumentInput:Mt,JobManifest:Re,JobManifestTasks:Ht,EntitiesTask:Vt,EntitiesTaskParameters:Bt,PiiTask:$t,PiiTaskParameters:Kt,KeyPhrasesTask:Ut,KeyPhrasesTaskParameters:Gt,EntityLinkingTask:Jt,EntityLinkingTaskParameters:Ft,SentimentAnalysisTask:Wt,SentimentAnalysisTaskParameters:Xt,ErrorResponse:f,TextAnalyticsError:Yt,InnerError:Qt,JobMetadata:ae,AnalyzeJobDisplayName:xe,TasksState:Ie,TasksStateTasks:Zt,TaskState:q,EntitiesTaskResult:qe,EntitiesResult:we,DocumentEntities:en,Entity:tn,TextAnalyticsWarning:nn,TextDocumentStatistics:sn,DocumentError:an,TextDocumentBatchStatistics:rn,PiiTaskResult:_e,PiiResult:De,PiiDocumentEntities:on,KeyPhraseTaskResult:je,KeyPhraseResult:Le,DocumentKeyPhrases:ln,EntityLinkingTaskResult:Me,EntityLinkingResult:He,DocumentLinkedEntities:cn,LinkedEntity:mn,Match:un,SentimentTaskResult:Ve,SentimentResponse:Be,DocumentSentiment:pn,SentimentConfidenceScores:dn,SentenceSentiment:yn,SentenceTarget:gn,TargetConfidenceScoreLabel:hn,TargetRelation:fn,SentenceAssessment:Sn,AnalyzeJobErrorsAndStatistics:$e,Pagination:ie,HealthcareTaskResult:Ke,HealthcareResult:Nn,DocumentHealthcareEntities:Pn,HealthcareEntityProperties:Ue,HealthcareLinkingProperties:Ge,HealthcareAssertion:Tn,HealthcareEntityLink:bn,HealthcareRelation:zn,HealthcareRelationEntity:En,LanguageBatchInput:Je,DetectLanguageInput:On,LanguageResult:Fe,DocumentLanguage:kn,DetectedLanguage:vn,AnalyzeBatchInput:We,AnalyzeJobMetadata:Xe,HealthcareJobState:Ye,AnalyzeJobState:Qe,TasksStateTasksEntityRecognitionTasksItem:Cn,TasksStateTasksEntityRecognitionPiiTasksItem:An,TasksStateTasksKeyPhraseExtractionTasksItem:Rn,TasksStateTasksEntityLinkingTasksItem:xn,TasksStateTasksSentimentAnalysisTasksItem:In,HealthcareEntity:qn,GeneratedClientAnalyzeHeaders:Ze,GeneratedClientCancelHealthJobHeaders:et,GeneratedClientHealthHeaders:tt},Symbol.toStringTag,{value:"Module"}));const E={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},_n={parameterPath:["options","body"],mapper:We},N={parameterPath:"accept",mapper:{defaultValue:"application/json, text/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},P={parameterPath:"endpoint",mapper:{serializedName:"Endpoint",required:!0,type:{name:"String"}},skipEncoding:!0},T={parameterPath:"apiVersion",mapper:{defaultValue:"v3.1",isConstant:!0,serializedName:"ApiVersion",type:{name:"String"}},skipEncoding:!0},Dn={parameterPath:"jobId",mapper:{serializedName:"jobId",required:!0,type:{name:"String"}}},O={parameterPath:["options","includeStatistics"],mapper:{serializedName:"showStats",type:{name:"Boolean"}}},nt={parameterPath:["options","top"],mapper:{defaultValue:20,constraints:{InclusiveMaximum:50,InclusiveMinimum:1},serializedName:"$top",type:{name:"Number"}}},st={parameterPath:["options","skip"],mapper:{constraints:{InclusiveMinimum:0},serializedName:"$skip",type:{name:"Number"}}},at={parameterPath:"jobId",mapper:{serializedName:"jobId",required:!0,type:{name:"Uuid"}}},w={parameterPath:"input",mapper:Ae},v={parameterPath:["options","modelVersion"],mapper:{serializedName:"model-version",type:{name:"String"}}},$={parameterPath:["options","stringIndexType"],mapper:{serializedName:"stringIndexType",type:{name:"String"}}},C={parameterPath:["options","loggingOptOut"],mapper:{serializedName:"loggingOptOut",type:{name:"Boolean"}}},jn={parameterPath:["options","domain"],mapper:{serializedName:"domain",type:{name:"String"}}},Ln={parameterPath:["options","piiCategories"],mapper:{constraints:{UniqueItems:!0},serializedName:"piiCategories",type:{name:"Sequence",element:{type:{name:"String"}}}},collectionFormat:"CSV"},Mn={parameterPath:"input",mapper:Je},Hn={parameterPath:["options","opinionMining"],mapper:{serializedName:"opinionMining",type:{name:"Boolean"}}};class Vn extends Rt{constructor(t,n){if(t===void 0)throw new Error("'endpoint' cannot be null");n||(n={});const s={requestContentType:"application/json; charset=utf-8"},a="azsdk-js-ai-text-analytics/5.1.0",i=n.userAgentOptions&&n.userAgentOptions.userAgentPrefix?`${n.userAgentOptions.userAgentPrefix} ${a}`:`${a}`,r=Object.assign(Object.assign(Object.assign({},s),n),{userAgentOptions:{userAgentPrefix:i},baseUri:n.endpoint||"{Endpoint}/text/analytics/{ApiVersion}"});super(r),this.endpoint=t,this.apiVersion=n.apiVersion||"v3.1"}}class Bn extends Vn{constructor(t,n){super(t,n)}analyze(t){return this.sendOperationRequest({options:t},$n)}analyzeStatus(t,n){return this.sendOperationRequest({jobId:t,options:n},Kn)}healthStatus(t,n){return this.sendOperationRequest({jobId:t,options:n},Un)}cancelHealthJob(t,n){return this.sendOperationRequest({jobId:t,options:n},Gn)}health(t,n){return this.sendOperationRequest({input:t,options:n},Jn)}entitiesRecognitionGeneral(t,n){return this.sendOperationRequest({input:t,options:n},Fn)}entitiesRecognitionPii(t,n){return this.sendOperationRequest({input:t,options:n},Wn)}entitiesLinking(t,n){return this.sendOperationRequest({input:t,options:n},Xn)}keyPhrases(t,n){return this.sendOperationRequest({input:t,options:n},Yn)}languages(t,n){return this.sendOperationRequest({input:t,options:n},Qn)}sentiment(t,n){return this.sendOperationRequest({input:t,options:n},Zn)}}const b=xt(wn,!1),$n={path:"/analyze",httpMethod:"POST",responses:{202:{headersMapper:Ze},default:{bodyMapper:f}},requestBody:_n,urlParameters:[P,T],headerParameters:[E,N],mediaType:"json",serializer:b},Kn={path:"/analyze/jobs/{jobId}",httpMethod:"GET",responses:{200:{bodyMapper:Qe},default:{bodyMapper:f}},queryParameters:[O,nt,st],urlParameters:[P,T,Dn],headerParameters:[N],serializer:b},Un={path:"/entities/health/jobs/{jobId}",httpMethod:"GET",responses:{200:{bodyMapper:Ye},default:{bodyMapper:f}},queryParameters:[O,nt,st],urlParameters:[P,T,at],headerParameters:[N],serializer:b},Gn={path:"/entities/health/jobs/{jobId}",httpMethod:"DELETE",responses:{202:{headersMapper:et},default:{bodyMapper:f}},urlParameters:[P,T,at],headerParameters:[N],serializer:b},Jn={path:"/entities/health/jobs",httpMethod:"POST",responses:{202:{headersMapper:tt},default:{bodyMapper:f}},requestBody:w,queryParameters:[v,$,C],urlParameters:[P,T],headerParameters:[E,N],mediaType:"json",serializer:b},Fn={path:"/entities/recognition/general",httpMethod:"POST",responses:{200:{bodyMapper:we},default:{bodyMapper:f}},requestBody:w,queryParameters:[O,v,$,C],urlParameters:[P,T],headerParameters:[E,N],mediaType:"json",serializer:b},Wn={path:"/entities/recognition/pii",httpMethod:"POST",responses:{200:{bodyMapper:De},default:{bodyMapper:f}},requestBody:w,queryParameters:[O,v,$,C,jn,Ln],urlParameters:[P,T],headerParameters:[E,N],mediaType:"json",serializer:b},Xn={path:"/entities/linking",httpMethod:"POST",responses:{200:{bodyMapper:He},default:{bodyMapper:f}},requestBody:w,queryParameters:[O,v,$,C],urlParameters:[P,T],headerParameters:[E,N],mediaType:"json",serializer:b},Yn={path:"/keyPhrases",httpMethod:"POST",responses:{200:{bodyMapper:Le},default:{bodyMapper:f}},requestBody:w,queryParameters:[O,v,C],urlParameters:[P,T],headerParameters:[E,N],mediaType:"json",serializer:b},Qn={path:"/languages",httpMethod:"POST",responses:{200:{bodyMapper:Fe},default:{bodyMapper:f}},requestBody:Mn,queryParameters:[O,v,C],urlParameters:[P,T],headerParameters:[E,N],mediaType:"json",serializer:b},Zn={path:"/sentiment",httpMethod:"POST",responses:{200:{bodyMapper:Be},default:{bodyMapper:f}},requestBody:w,queryParameters:[O,v,$,C,Hn],urlParameters:[P,T],headerParameters:[E,N],mediaType:"json",serializer:b},J=It("ai-text-analytics"),es=URL,ts=URLSearchParams;function ns(e,t){const n=new Map;for(const a of t)n.set(a.id,a);if(t.length!==e.length){const a=t.length>e.length?"more":"fewer";J.warning(`The service returned ${a} responses than inputs. Some errors may be treated as fatal.`)}const s=[];for(const a of e){const i=n.get(a.id);i&&s.push(i)}return s}function ss(e){const n=new RegExp(/#\/documents\/(\d+)\/sentences\/(\d+)\/assessments\/(\d+)/).exec(e);if(n!==null)return{document:parseInt(n[1]),sentence:parseInt(n[2]),assessment:parseInt(n[3])};throw new Error(`Pointer "${e}" is not a valid Assessment pointer`)}function as(e){const n=new RegExp(/#\/results\/documents\/(\d+)\/entities\/(\d+)/).exec(e);if(n!==null)return parseInt(n[2]);throw new Error(`Pointer "${e}" is not a valid healthcare entity pointer`)}const re="Utf16CodeUnit";function is(e){return Object.assign(Object.assign({},e),{stringIndexType:e.stringIndexType||re})}function K(e){return Object.assign(Object.assign({},e),{stringIndexType:e.stringIndexType||re})}function F(e){return e||re}function rs(e){return Object.assign(Object.assign({},e),{opinionMining:e.includeOpinionMining})}function os(e){return Object.assign(Object.assign({},e),{piiCategories:e.categoriesFilter})}function D(e){const{actionName:t}=e;return{parameters:U(e,["actionName"]),taskName:t}}function it(e){const t=new es(e),n=new ts(t.searchParams);let s;if(n.has("$top"))s=parseInt(n.get("$top"));else throw new Error(`nextLink URL does not have the $top param: ${e}`);let a;if(n.has("$skip"))a=parseInt(n.get("$skip"));else throw new Error(`nextLink URL does not have the $skip param: ${e}`);return{skip:a,top:s}}function rt(e){const t=e.lastIndexOf("/");return e.substring(t+1)}function oe(e){var t,n,s,a,i,r,l,o;const c=e,m=(a=(s=(n=(t=c.response)===null||t===void 0?void 0:t.parsedBody)===null||n===void 0?void 0:n.error)===null||s===void 0?void 0:s.innererror)===null||a===void 0?void 0:a.code,p=(o=(l=(r=(i=c.response)===null||i===void 0?void 0:i.parsedBody)===null||r===void 0?void 0:r.error)===null||l===void 0?void 0:l.innererror)===null||o===void 0?void 0:o.message;return p?m==="InvalidDocumentBatch"?new qt(p,{code:m,statusCode:c.statusCode}):e:(J.warning(`The error coming from the service does not follow the expected structure: ${e}`),e)}function le(e){return new Promise(t=>setTimeout(()=>t(),e))}function x(e,t){return n=>t(e(n))}function ce(e){return e.innererror!==void 0?ce(e.innererror):{code:e.code,message:e.message,target:e.target}}function A(e,t,n){return{id:e,statistics:n,warnings:t}}function R(e,t){return{id:e,error:ce(t)}}function ot(e,t,n,s){const i=t.documents.map(n).concat(t.errors.map(r=>s(r.id,r.error)));return ns(e,i)}function _(e,t,n,s){const a=ot(e,t,n,s);return Object.assign(a,{statistics:t.statistics,modelVersion:t.modelVersion})}function ls(e){const{id:t,warnings:n,statistics:s,detectedLanguage:a}=e;return Object.assign(Object.assign({},A(t,n,s)),{primaryLanguage:a})}function cs(e,t){return R(e,t)}function ms(e,t){return _(e,t,ls,cs)}function us(e){const{entities:t,statistics:n,warnings:s,id:a}=e;return Object.assign(Object.assign({},A(a,s,n)),{entities:t})}function ps(e,t){return R(e,t)}function lt(e,t){return _(e,t,us,ps)}function ds(e){const{id:t,sentiment:n,confidenceScores:s,sentenceSentiments:a,warnings:i,statistics:r}=e;return Object.assign(Object.assign({},A(t,i,r)),{sentiment:n,confidenceScores:s,sentences:a.map(l=>gs(l,e))})}function ys(e,t){return R(e,t)}function gs(e,t){return{confidenceScores:e.confidenceScores,sentiment:e.sentiment,text:e.text,offset:e.offset,length:e.length,opinions:e.targets?e.targets.map(n=>({target:{confidenceScores:n.confidenceScores,sentiment:n.sentiment,text:n.text,offset:n.offset,length:n.length},assessments:n.relations.filter(s=>s.relationType==="assessment").map(s=>hs(s,t))})):[]}}function hs(e,t){var n,s;const a=e.ref,i=ss(a),r=(s=(n=t.sentenceSentiments)===null||n===void 0?void 0:n[i.sentence].assessments)===null||s===void 0?void 0:s[i.assessment];if(r!==void 0)return r;throw new Error(`Pointer "${a}" is not a valid Assessment pointer`)}function ct(e,t){return _(e,t,ds,ys)}function fs(e){const{id:t,warnings:n,statistics:s,keyPhrases:a}=e;return Object.assign(Object.assign({},A(t,n,s)),{keyPhrases:a})}function Ss(e,t){return R(e,t)}function mt(e,t){return _(e,t,fs,Ss)}function Ns(e){const{id:t,entities:n,warnings:s,statistics:a,redactedText:i}=e;return Object.assign(Object.assign({},A(t,s,a)),{entities:n,redactedText:i})}function Ps(e,t){return R(e,t)}function ut(e,t){return _(e,t,Ns,Ps)}function Ts(e){const{statistics:t,id:n,warnings:s,entities:a}=e;return Object.assign(Object.assign({},A(n,s,t)),{entities:a})}function bs(e,t){return R(e,t)}function pt(e,t){return _(e,t,Ts,bs)}class Pe{spanContext(){return{spanId:"",traceId:"",traceFlags:0}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}addEvent(t,n){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}recordException(t,n){}}class zs{startSpan(t,n){return new Pe}getCurrentSpan(){return new Pe}withSpan(t,n){return n()}bind(t,n){return t}}function Es(){return self}const X=Symbol.for("@azure/core-tracing.tracerCache4");let te;function Os(){const e=Es();e[X]||(e[X]={tracer:void 0}),te=e[X]}function ks(){return te||Os(),te}let Y;function vs(){return Y||(Y=new zs),Y}function Cs(){const e=ks();return e.tracer?e.tracer:vs()}var As=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{},I="1.3.0",Te=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function Rs(e){var t=new Set([e]),n=new Set,s=e.match(Te);if(!s)return function(){return!1};var a={major:+s[1],minor:+s[2],patch:+s[3],prerelease:s[4]};if(a.prerelease!=null)return function(o){return o===e};function i(l){return n.add(l),!1}function r(l){return t.add(l),!0}return function(o){if(t.has(o))return!0;if(n.has(o))return!1;var c=o.match(Te);if(!c)return i(o);var m={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return m.prerelease!=null||a.major!==m.major?i(o):a.major===0?a.minor===m.minor&&a.patch<=m.patch?r(o):i(o):a.minor<=m.minor?r(o):i(o)}}var xs=Rs(I),Is=I.split(".")[0],H=Symbol.for("opentelemetry.js.api."+Is),V=As;function me(e,t,n,s){var a;s===void 0&&(s=!1);var i=V[H]=(a=V[H])!==null&&a!==void 0?a:{version:I};if(!s&&i[e]){var r=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return n.error(r.stack||r.message),!1}if(i.version!==I){var r=new Error("@opentelemetry/api: All API registration versions must match");return n.error(r.stack||r.message),!1}return i[e]=t,n.debug("@opentelemetry/api: Registered a global for "+e+" v"+I+"."),!0}function B(e){var t,n,s=(t=V[H])===null||t===void 0?void 0:t.version;if(!(!s||!xs(s)))return(n=V[H])===null||n===void 0?void 0:n[e]}function ue(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+I+".");var n=V[H];n&&delete n[e]}var qs=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),a,i=[],r;try{for(;(t===void 0||t-- >0)&&!(a=s.next()).done;)i.push(a.value)}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},ws=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))},_s=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return j("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return j("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return j("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return j("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return j("verbose",this._namespace,t)},e}();function j(e,t,n){var s=B("diag");if(!!s)return n.unshift(t),s[e].apply(s,ws([],qs(n),!1))}var g;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(g||(g={}));function Ds(e,t){e<g.NONE?e=g.NONE:e>g.ALL&&(e=g.ALL),t=t||{};function n(s,a){var i=t[s];return typeof i=="function"&&e>=a?i.bind(t):function(){}}return{error:n("error",g.ERROR),warn:n("warn",g.WARN),info:n("info",g.INFO),debug:n("debug",g.DEBUG),verbose:n("verbose",g.VERBOSE)}}var js=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),a,i=[],r;try{for(;(t===void 0||t-- >0)&&!(a=s.next()).done;)i.push(a.value)}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},Ls=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))},Ms="diag",G=function(){function e(){function t(a){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var l=B("diag");if(!!l)return l[a].apply(l,Ls([],js(i),!1))}}var n=this,s=function(a,i){var r,l,o;if(i===void 0&&(i={logLevel:g.INFO}),a===n){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((r=c.stack)!==null&&r!==void 0?r:c.message),!1}typeof i=="number"&&(i={logLevel:i});var m=B("diag"),p=Ds((l=i.logLevel)!==null&&l!==void 0?l:g.INFO,a);if(m&&!i.suppressOverrideMessage){var y=(o=new Error().stack)!==null&&o!==void 0?o:"<failed to generate stacktrace>";m.warn("Current logger will be overwritten from "+y),p.warn("Current logger will overwrite one already registered from "+y)}return me("diag",p,n,!0)};n.setLogger=s,n.disable=function(){ue(Ms,n)},n.createComponentLogger=function(a){return new _s(a)},n.verbose=t("verbose"),n.debug=t("debug"),n.info=t("info"),n.warn=t("warn"),n.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();function Hs(e){return Symbol.for(e)}var Vs=function(){function e(t){var n=this;n._currentContext=t?new Map(t):new Map,n.getValue=function(s){return n._currentContext.get(s)},n.setValue=function(s,a){var i=new e(n._currentContext);return i._currentContext.set(s,a),i},n.deleteValue=function(s){var a=new e(n._currentContext);return a._currentContext.delete(s),a}}return e}(),Bs=new Vs,$s=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),a,i=[],r;try{for(;(t===void 0||t-- >0)&&!(a=s.next()).done;)i.push(a.value)}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},Ks=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))},Us=function(){function e(){}return e.prototype.active=function(){return Bs},e.prototype.with=function(t,n,s){for(var a=[],i=3;i<arguments.length;i++)a[i-3]=arguments[i];return n.call.apply(n,Ks([s],$s(a),!1))},e.prototype.bind=function(t,n){return n},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}(),Gs=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var s=n.call(e),a,i=[],r;try{for(;(t===void 0||t-- >0)&&!(a=s.next()).done;)i.push(a.value)}catch(l){r={error:l}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},Js=globalThis&&globalThis.__spreadArray||function(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,i;s<a;s++)(i||!(s in t))&&(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))},Q="context",Fs=new Us,pe=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return me(Q,t,G.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,n,s){for(var a,i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r];return(a=this._getContextManager()).with.apply(a,Js([t,n,s],Gs(i),!1))},e.prototype.bind=function(t,n){return this._getContextManager().bind(t,n)},e.prototype._getContextManager=function(){return B(Q)||Fs},e.prototype.disable=function(){this._getContextManager().disable(),ue(Q,G.instance())},e}(),ne;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(ne||(ne={}));var dt="0000000000000000",yt="00000000000000000000000000000000",Ws={traceId:yt,spanId:dt,traceFlags:ne.NONE},M=function(){function e(t){t===void 0&&(t=Ws),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,n){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,n){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,n){},e}(),de=Hs("OpenTelemetry Context Key SPAN");function ye(e){return e.getValue(de)||void 0}function Xs(){return ye(pe.getInstance().active())}function ge(e,t){return e.setValue(de,t)}function Ys(e){return e.deleteValue(de)}function Qs(e,t){return ge(e,new M(t))}function gt(e){var t;return(t=ye(e))===null||t===void 0?void 0:t.spanContext()}var Zs=/^([0-9a-f]{32})$/i,ea=/^[0-9a-f]{16}$/i;function ta(e){return Zs.test(e)&&e!==yt}function na(e){return ea.test(e)&&e!==dt}function ht(e){return ta(e.traceId)&&na(e.spanId)}function sa(e){return new M(e)}var be=pe.getInstance(),ft=function(){function e(){}return e.prototype.startSpan=function(t,n,s){var a=Boolean(n==null?void 0:n.root);if(a)return new M;var i=s&&gt(s);return aa(i)&&ht(i)?new M(i):new M},e.prototype.startActiveSpan=function(t,n,s,a){var i,r,l;if(!(arguments.length<2)){arguments.length===2?l=n:arguments.length===3?(i=n,l=s):(i=n,r=s,l=a);var o=r!=null?r:be.active(),c=this.startSpan(t,i,o),m=ge(o,c);return be.with(m,l,void 0,c)}},e}();function aa(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var ia=new ft,ra=function(){function e(t,n,s,a){this._provider=t,this.name=n,this.version=s,this.options=a}return e.prototype.startSpan=function(t,n,s){return this._getTracer().startSpan(t,n,s)},e.prototype.startActiveSpan=function(t,n,s,a){var i=this._getTracer();return Reflect.apply(i.startActiveSpan,i,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):ia},e}(),oa=function(){function e(){}return e.prototype.getTracer=function(t,n,s){return new ft},e}(),la=new oa,ze=function(){function e(){}return e.prototype.getTracer=function(t,n,s){var a;return(a=this.getDelegateTracer(t,n,s))!==null&&a!==void 0?a:new ra(this,t,n,s)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:la},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,n,s){var a;return(a=this._delegate)===null||a===void 0?void 0:a.getTracer(t,n,s)},e}(),ca=pe.getInstance(),Z="trace",ma=function(){function e(){this._proxyTracerProvider=new ze,this.wrapSpanContext=sa,this.isSpanContextValid=ht,this.deleteSpan=Ys,this.getSpan=ye,this.getActiveSpan=Xs,this.getSpanContext=gt,this.setSpan=ge,this.setSpanContext=Qs}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var n=me(Z,this._proxyTracerProvider,G.instance());return n&&this._proxyTracerProvider.setDelegate(t),n},e.prototype.getTracerProvider=function(){return B(Z)||this._proxyTracerProvider},e.prototype.getTracer=function(t,n){return this.getTracerProvider().getTracer(t,n)},e.prototype.disable=function(){ue(Z,G.instance()),this._proxyTracerProvider=new ze},e}(),ua=ma.getInstance(),se;(function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"})(se||(se={}));function pa(e,t){return ua.setSpan(e,t)}const da=ca;var d;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(d||(d={}));function ya(e){return function(t,n){const s=Cs(),a=(n==null?void 0:n.tracingOptions)||{},i=Object.assign({kind:se.INTERNAL},a.spanOptions),r=e.packagePrefix?`${e.packagePrefix}.${t}`:t,l=s.startSpan(r,i,a.tracingContext);e.namespace&&l.setAttribute("az.namespace",e.namespace);let o=a.spanOptions||{};l.isRecording()&&e.namespace&&(o=Object.assign(Object.assign({},a.spanOptions),{attributes:Object.assign(Object.assign({},i.attributes),{"az.namespace":e.namespace})}));const c=Object.assign(Object.assign({},a),{spanOptions:o,tracingContext:pa(a.tracingContext||da.active(),l)}),m=Object.assign(Object.assign({},n),{tracingOptions:c});return{span:l,updatedOptions:m}}}const h=ya({packagePrefix:"Azure.CognitiveServices.TextAnalytics",namespace:"Microsoft.CognitiveServices"}),ga="Ocp-Apim-Subscription-Key",ha="textAnalyticsAzureKeyCredentialPolicy";function fa(e){return{name:ha,sendRequest(t,n){return t.headers.set(ga,e.key),n(t)}}}class he extends Error{constructor(t){super(t),this.name="PollerStoppedError",Object.setPrototypeOf(this,he.prototype)}}class fe extends Error{constructor(t){super(t),this.name="PollerCancelledError",Object.setPrototypeOf(this,fe.prototype)}}class Sa{constructor(t){this.resolveOnUnsuccessful=!1,this.stopped=!0,this.pollProgressCallbacks=[],this.operation=t,this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s}),this.promise.catch(()=>{})}async startPolling(t={}){for(this.stopped&&(this.stopped=!1);!this.isStopped()&&!this.isDone();)await this.poll(t),await this.delay()}async pollOnce(t={}){this.isDone()||(this.operation=await this.operation.update({abortSignal:t.abortSignal,fireProgress:this.fireProgress.bind(this)})),this.processUpdatedState()}fireProgress(t){for(const n of this.pollProgressCallbacks)n(t)}async cancelOnce(t={}){this.operation=await this.operation.cancel(t)}poll(t={}){if(!this.pollOncePromise){this.pollOncePromise=this.pollOnce(t);const n=()=>{this.pollOncePromise=void 0};this.pollOncePromise.then(n,n).catch(this.reject)}return this.pollOncePromise}processUpdatedState(){if(this.operation.state.error&&(this.stopped=!0,!this.resolveOnUnsuccessful))throw this.reject(this.operation.state.error),this.operation.state.error;if(this.operation.state.isCancelled&&(this.stopped=!0,!this.resolveOnUnsuccessful)){const t=new fe("Operation was canceled");throw this.reject(t),t}this.isDone()&&this.resolve&&this.resolve(this.getResult())}async pollUntilDone(t={}){return this.stopped&&this.startPolling(t).catch(this.reject),this.processUpdatedState(),this.promise}onProgress(t){return this.pollProgressCallbacks.push(t),()=>{this.pollProgressCallbacks=this.pollProgressCallbacks.filter(n=>n!==t)}}isDone(){const t=this.operation.state;return Boolean(t.isCompleted||t.isCancelled||t.error)}stopPolling(){this.stopped||(this.stopped=!0,this.reject&&this.reject(new he("This poller is already stopped")))}isStopped(){return this.stopped}cancelOperation(t={}){if(!this.cancelPromise)this.cancelPromise=this.cancelOnce(t);else if(t.abortSignal)throw new Error("A cancel request is currently pending");return this.cancelPromise}getOperationState(){return this.operation.state}getResult(){return this.operation.state.result}toString(){return this.operation.toString()}}class St extends Sa{constructor(){super(...arguments),this.updateIntervalInMs=2e3}async delay(){return le(this.updateIntervalInMs)}}class Nt{constructor(t){this.state=t}toString(){return JSON.stringify({state:this.state})}}function Na(e){var t;const{category:n,confidenceScore:s,assertion:a,offset:i,text:r,links:l,subcategory:o,length:c,name:m}=e;return{category:n,confidenceScore:s,assertion:a,offset:i,length:c,text:r,normalizedText:m,subCategory:o,dataSources:(t=l==null?void 0:l.map(({dataSource:p,id:y})=>({name:p,entityId:y})))!==null&&t!==void 0?t:[]}}function Pa(e,t){return t.map(n=>({relationType:n.relationType,roles:n.entities.map(s=>({entity:e[as(s.ref)],name:s.role}))}))}function Ta(e){const{id:t,entities:n,relations:s,warnings:a,statistics:i}=e,r=n.map(Na);return Object.assign(Object.assign({},A(t,a,i)),{entities:r,entityRelations:Pa(r,s)})}function ba(e,t){return R(e,t)}function Ee(e){return{createdOn:e.createdDateTime,lastModifiedOn:e.lastUpdateDateTime,expiresOn:e.expirationDateTime,status:e.status}}class za extends Nt{constructor(t,n,s,a={}){super(t),this.state=t,this.client=n,this.documents=s,this.options=a}listHealthcareEntitiesByPage(t,n={}){const s=this._listHealthcareEntities(t,n);return{next(){return s.next()},[Symbol.asyncIterator](){return this},byPage:a=>{const i=Object.assign(Object.assign({},n),{top:a==null?void 0:a.maxPageSize});return this._listHealthcareEntitiesPaged(t,i)}}}_listHealthcareEntities(t,n){return ee(this,arguments,function*(){var a,i;try{for(var r=Ne(this._listHealthcareEntitiesPaged(t,n)),l;l=yield S(r.next()),!l.done;){const o=l.value;yield S(yield*wt(Ne(o)))}}catch(o){a={error:o}}finally{try{l&&!l.done&&(i=r.return)&&(yield S(i.call(r)))}finally{if(a)throw a.error}}})}_listHealthcareEntitiesPaged(t,n){return ee(this,arguments,function*(){let a=yield S(this._listHealthcareEntitiesSinglePage(t,n));for(yield yield S(a.result);a.skip;){const i=Object.assign(Object.assign({},n),{top:a.top,skip:a.skip});a=yield S(this._listHealthcareEntitiesSinglePage(t,i)),yield yield S(a.result)}})}async _listHealthcareEntitiesSinglePage(t,n){const{span:s,updatedOptions:a}=h("TextAnalyticsClient-_listHealthcareEntitiesSinglePage",n||{});try{const i=await this.client.healthStatus(t,a);if(i.results){const r=ot(this.documents,i.results,Ta,ba);return i.nextLink?Object.assign({result:r},it(i.nextLink)):{result:r}}else throw new Error("Healthcare action has succeeded but the there are no results!")}catch(i){throw s.setStatus({code:d.ERROR,message:i.message}),i}finally{s.end()}}async getHealthStatus(t,n){var s;const{span:a,updatedOptions:i}=h("TextAnalyticsClient-getHealthStatus",n||{});try{const r=await this.client.healthStatus(t,i);switch(r.status){case"notStarted":case"running":break;case"failed":{const o=`Healthcare analysis failed. Error(s): ${((s=r.errors)===null||s===void 0?void 0:s.map(c=>`  code ${c.code}, message: '${c.message}'`).join(`
`))||""}`;throw new Error(o)}default:{if(r.results)return{done:!0,statistics:r.results.statistics,modelVersion:r.results.modelVersion,operationMetdata:Ee(r)};throw new Error("Healthcare action has finished but the there are no results!")}}return{done:!1,operationMetdata:Ee(r)}}catch(r){throw a.setStatus({code:d.ERROR,message:r.message}),r}finally{a.end()}}async beginAnalyzeHealthcare(t,n){const{span:s,updatedOptions:a}=h("TextAnalyticsClient-beginAnalyzeHealthcare",is(n||{}));try{return await this.client.health({documents:t},a)}catch(i){const r=oe(i);throw s.setStatus({code:d.ERROR,message:r.message}),r}finally{s.end()}}async update(t={}){const n=this.state,s=t.abortSignal;if(!n.isStarted){n.isStarted=!0;const i=await this.beginAnalyzeHealthcare(this.documents,{requestOptions:this.options.requestOptions,tracingOptions:this.options.tracingOptions,abortSignal:s||t.abortSignal,modelVersion:this.options.modelVersion,stringIndexType:this.options.stringIndexType,loggingOptOut:this.options.disableServiceLogs});if(!i.operationLocation)throw new Error("Expects a valid 'operationLocation' to retrieve health results but did not find any");n.operationId=rt(i.operationLocation)}const a=await this.getHealthStatus(n.operationId,{abortSignal:s||t.abortSignal,includeStatistics:this.options.includeStatistics,tracingOptions:this.options.tracingOptions,onResponse:this.options.onResponse,serializerOptions:this.options.serializerOptions});if(n.createdOn=a.operationMetdata.createdOn,n.expiresOn=a.operationMetdata.expiresOn,n.lastModifiedOn=a.operationMetdata.lastModifiedOn,n.status=a.operationMetdata.status,!n.isCompleted&&a.done){const i=this.listHealthcareEntitiesByPage(n.operationId,{abortSignal:this.options.abortSignal,tracingOptions:this.options.tracingOptions});n.result=Object.assign(i,{statistics:a.statistics,modelVersion:a.modelVersion}),n.isCompleted=!0}return typeof t.fireProgress=="function"&&t.fireProgress(n),this}async cancel(){const t=this.state;return t.operationId&&await this.client.cancelHealthJob(t.operationId,{abortSignal:this.options.abortSignal,tracingOptions:this.options.tracingOptions}),t.isCancelled=!0,this}}class Ea extends St{constructor(t){const{client:n,documents:s,options:a,updateIntervalInMs:i=5e3,resumeFrom:r}=t;let l;r&&(l=JSON.parse(r).state);const o=new za(l||{},n,s,a);super(o),this.updateIntervalInMs=i}delay(){return le(this.updateIntervalInMs)}}function Oa(e){switch(e){case"entityRecognitionTasks":return"RecognizeCategorizedEntities";case"entityRecognitionPiiTasks":return"RecognizePiiEntities";case"keyPhraseExtractionTasks":return"ExtractKeyPhrases";case"entityLinkingTasks":return"RecognizeLinkedEntities";case"sentimentAnalysisTasks":return"AnalyzeSentiment";default:throw new Error(`unexpected action type from the service: ${e}`)}}function ka(e){if(e.target){const n=new RegExp(/#\/tasks\/(entityRecognitionTasks|entityRecognitionPiiTasks|keyPhraseExtractionTasks|entityLinkingTasks|sentimentAnalysisTasks)\/(\d+)/).exec(e.target);if(n!==null)return{code:e.code,message:e.message,index:parseInt(n[2]),type:Oa(n[1])};throw new Error(`Pointer "${e.target}" is not a valid action pointer`)}else throw new Error("expected an error with a target field referencing an action but did not get one")}function va(e,t,n,s,a,i){for(const r of e){const l=ka(r);switch(l.type){case"RecognizeCategorizedEntities":{t.push(l);break}case"RecognizePiiEntities":{n.push(l);break}case"ExtractKeyPhrases":{s.push(l);break}case"RecognizeLinkedEntities":{a.push(l);break}case"AnalyzeSentiment":{i.push(l);break}}}}function Ca(e,t){return{error:ce(e),failedOn:t}}function L(e,t,n,s){let a=0;function i(r,l){const{results:o,lastUpdateDateTime:c}=l;if(o!==void 0){const m=t(e,o);return[...r,{results:m,completedOn:c}]}else return[...r,Ca(s[a++],c)]}return n.reduce(i,[])}function Aa(e,t){var n,s,a,i,r,l;const o=[],c=[],m=[],p=[],y=[];return va((n=e==null?void 0:e.errors)!==null&&n!==void 0?n:[],o,c,m,p,y),{recognizeEntitiesResults:L(t,lt,(s=e.tasks.entityRecognitionTasks)!==null&&s!==void 0?s:[],o),recognizePiiEntitiesResults:L(t,ut,(a=e.tasks.entityRecognitionPiiTasks)!==null&&a!==void 0?a:[],c),extractKeyPhrasesResults:L(t,mt,(i=e.tasks.keyPhraseExtractionTasks)!==null&&i!==void 0?i:[],m),recognizeLinkedEntitiesResults:L(t,pt,(r=e.tasks.entityLinkingTasks)!==null&&r!==void 0?r:[],p),analyzeSentimentResults:L(t,ct,(l=e.tasks.sentimentAnalysisTasks)!==null&&l!==void 0?l:[],y)}}function Oe(e){return{createdOn:e.createdDateTime,lastModifiedOn:e.lastUpdateDateTime,expiresOn:e.expirationDateTime,status:e.status,actionsSucceededCount:e.tasks.completed,actionsFailedCount:e.tasks.failed,actionsInProgressCount:e.tasks.inProgress,displayName:e.displayName}}class Ra extends Nt{constructor(t,n,s,a,i={}){super(t),this.state=t,this.client=n,this.documents=s,this.actions=a,this.options=i}listAnalyzeActionsResults(t,n={}){const s=this._listAnalyzeActionsResultsPaged(t,n);return{next(){return s.next()},[Symbol.asyncIterator](){return this},byPage:a=>{const i=Object.assign(Object.assign({},n),{top:a==null?void 0:a.maxPageSize});return this._listAnalyzeActionsResultsPaged(t,i)}}}_listAnalyzeActionsResultsPaged(t,n){return ee(this,arguments,function*(){let a=yield S(this._listAnalyzeActionsResultsSinglePage(t,n));for(yield yield S(a.result);a.skip;){const i=Object.assign(Object.assign({},n),{top:a.top,skip:a.skip});a=yield S(this._listAnalyzeActionsResultsSinglePage(t,i)),yield yield S(a.result)}})}async _listAnalyzeActionsResultsSinglePage(t,n){const{span:s,updatedOptions:a}=h("TextAnalyticsClient-_listAnalyzeActionsResultsSinglePage",n||{});try{const i=await this.client.analyzeStatus(t,a),r=Aa(i,this.documents);return i.nextLink?Object.assign({result:r},it(i.nextLink)):{result:r}}catch(i){throw s.setStatus({code:d.ERROR,message:i.message}),i}finally{s.end()}}async getAnalyzeActionsOperationStatus(t,n){const{span:s,updatedOptions:a}=h("TextAnalyticsClient-getAnalyzeActionsOperationStatus",n||{});try{const i=await this.client.analyzeStatus(t,a);switch(i.status){case"notStarted":case"running":break;default:return{done:!0,statistics:i.statistics,operationMetdata:Oe(i)}}return{done:!1,operationMetdata:Oe(i)}}catch(i){throw s.setStatus({code:d.ERROR,message:i.message}),i}finally{s.end()}}async beginAnalyzeActions(t,n,s){const{span:a,updatedOptions:i}=h("TextAnalyticsClient-beginAnalyze",s||{});try{return await this.client.analyze(Object.assign({body:{analysisInput:{documents:t},tasks:n,displayName:s==null?void 0:s.displayName}},i))}catch(r){const l=oe(r);throw a.setStatus({code:d.ERROR,message:l.message}),l}finally{a.end()}}async update(t={}){var n;const s=this.state,a=t.abortSignal;if(!s.isStarted){s.isStarted=!0;const r=await this.beginAnalyzeActions(this.documents,this.actions,{displayName:this.options.displayName,tracingOptions:this.options.tracingOptions,requestOptions:this.options.requestOptions,abortSignal:a||this.options.abortSignal});if(!r.operationLocation)throw new Error("Expects a valid 'operationLocation' to retrieve analyze results but did not find any");s.operationId=rt(r.operationLocation)}const i=await this.getAnalyzeActionsOperationStatus(s.operationId,{abortSignal:a||t.abortSignal,includeStatistics:this.options.includeStatistics,tracingOptions:this.options.tracingOptions});if(s.createdOn=i.operationMetdata.createdOn,s.expiresOn=i.operationMetdata.expiresOn,s.lastModifiedOn=i.operationMetdata.lastModifiedOn,s.status=i.operationMetdata.status,s.actionsSucceededCount=i.operationMetdata.actionsSucceededCount,s.actionsFailedCount=i.operationMetdata.actionsFailedCount,s.actionsInProgressCount=i.operationMetdata.actionsInProgressCount,s.displayName=(n=i.operationMetdata)===null||n===void 0?void 0:n.displayName,!s.isCompleted&&i.done){const r=this.listAnalyzeActionsResults(s.operationId,{abortSignal:this.options.abortSignal,tracingOptions:this.options.tracingOptions,includeStatistics:this.options.includeStatistics,onResponse:this.options.onResponse,serializerOptions:this.options.serializerOptions});s.result=r,s.isCompleted=!0}return typeof t.fireProgress=="function"&&t.fireProgress(s),this}async cancel(){const t=this.state;return J.warning("The service does not yet support cancellation for beginAnalyze."),t.isCancelled=!0,this}}class xa extends St{constructor(t){const{client:n,documents:s,actions:a,options:i,updateIntervalInMs:r=5e3,resumeFrom:l}=t;let o;l&&(o=JSON.parse(l).state);const c=new Ra(o||{},n,s,a,i);super(c),this.updateIntervalInMs=r}delay(){return le(this.updateIntervalInMs)}}const Ia="https://cognitiveservices.azure.com/.default";var ke;(function(e){e.PROTECTED_HEALTH_INFORMATION="PHI"})(ke||(ke={}));class qa{constructor(t,n,s={}){this.endpointUrl=t;const{defaultCountryHint:a="us",defaultLanguage:i="en"}=s,r=U(s,["defaultCountryHint","defaultLanguage"]);this.defaultCountryHint=a,this.defaultLanguage=i;const l=`azsdk-js-ai-textanalytics/${Lt}`;r.userAgentOptions||(r.userAgentOptions={}),r.userAgentOptions.userAgentPrefix?r.userAgentOptions.userAgentPrefix=`${r.userAgentOptions.userAgentPrefix} ${l}`:r.userAgentOptions.userAgentPrefix=l;const o=Object.assign(Object.assign({},r),{loggingOptions:{logger:J.info,additionalAllowedHeaderNames:["x-ms-correlation-request-id","x-ms-request-id"]}});this.client=new Bn(this.endpointUrl,o);const c=jt(n)?_t({credential:n,scopes:Ia}):fa(n);this.client.pipeline.addPolicy(c)}async detectLanguage(t,n,s){let a,i;if(!Array.isArray(t)||t.length===0)throw new Error("'documents' must be a non-empty array");if(z(t)){const o=n||this.defaultCountryHint;i=Da(t,o),a=s||{}}else i=t.map(o=>Object.assign(Object.assign({},o),{countryHint:o.countryHint==="none"?"":o.countryHint})),a=n||{};const{span:r,updatedOptions:l}=h("TextAnalyticsClient-detectLanguages",Ha(a));try{const o=await this.client.languages({documents:i},l);return ms(i,o)}catch(o){throw r.setStatus({code:d.ERROR,message:o.message}),o}finally{r.end()}}async recognizeEntities(t,n,s){let a,i;if(!Array.isArray(t)||t.length===0)throw new Error("'documents' must be a non-empty array");if(z(t)){const o=n||this.defaultLanguage;i=k(t,o),a=s||{}}else i=t,a=n||{};const{span:r,updatedOptions:l}=h("TextAnalyticsClient-recognizeEntities",Ma(a));try{const o=await this.client.entitiesRecognitionGeneral({documents:i},l);return lt(i,o)}catch(o){const c=oe(o);throw r.setStatus({code:d.ERROR,message:c.message}),c}finally{r.end()}}async analyzeSentiment(t,n,s){let a,i;if(!Array.isArray(t)||t.length===0)throw new Error("'documents' must be a non-empty array");if(z(t)){const o=n||this.defaultLanguage;i=k(t,o),a=s||{}}else i=t,a=n||{};const{span:r,updatedOptions:l}=h("TextAnalyticsClient-analyzeSentiment",ja(a));try{const o=await this.client.sentiment({documents:i},l);return ct(i,o)}catch(o){throw r.setStatus({code:d.ERROR,message:o.message}),o}finally{r.end()}}async extractKeyPhrases(t,n,s){let a,i;if(!Array.isArray(t)||t.length===0)throw new Error("'documents' must be a non-empty array");if(z(t)){const o=n||this.defaultLanguage;i=k(t,o),a=s||{}}else i=t,a=n||{};const{span:r,updatedOptions:l}=h("TextAnalyticsClient-extractKeyPhrases",Va(a));try{const o=await this.client.keyPhrases({documents:i},l);return mt(i,o)}catch(o){throw r.setStatus({code:d.ERROR,message:o.message}),o}finally{r.end()}}async recognizePiiEntities(t,n,s){let a,i;if(z(t)){const o=n||this.defaultLanguage;i=k(t,o),a=s||{}}else i=t,a=n||{};const{span:r,updatedOptions:l}=h("TextAnalyticsClient-recognizePiiEntities",La(a));try{const o=await this.client.entitiesRecognitionPii({documents:i},l);return ut(i,o)}catch(o){throw r.setStatus({code:d.ERROR,message:o.message}),o}finally{r.end()}}async recognizeLinkedEntities(t,n,s){let a,i;if(!Array.isArray(t)||t.length===0)throw new Error("'documents' must be a non-empty array");if(z(t)){const o=n||this.defaultLanguage;i=k(t,o),a=s||{}}else i=t,a=n||{};const{span:r,updatedOptions:l}=h("TextAnalyticsClient-recognizeLinkedEntities",Ba(a));try{const o=await this.client.entitiesLinking({documents:i},l);return pt(i,o)}catch(o){throw r.setStatus({code:d.ERROR,message:o.message}),o}finally{r.end()}}async beginAnalyzeHealthcareEntities(t,n,s){let a,i;if(z(t)){const m=n||this.defaultLanguage;i=k(t,m),a=s||{}}else i=t,a=n||{};const{updateIntervalInMs:r,resumeFrom:l}=a,o=U(a,["updateIntervalInMs","resumeFrom"]),c=new Ea({client:this.client,documents:i,options:o,updateIntervalInMs:r,resumeFrom:l});return await c.poll(),c}async beginAnalyzeActions(t,n,s,a){let i,r;if(!Array.isArray(t)||t.length===0)throw new Error("'documents' must be a non-empty array");if(z(t)){const y=s||this.defaultLanguage;r=k(t,y),i=a||{}}else r=t,i=s||{};wa(n);const l=_a(n),{updateIntervalInMs:o,resumeFrom:c}=i,m=U(i,["updateIntervalInMs","resumeFrom"]),p=new xa({client:this.client,documents:r,actions:l,options:m,resumeFrom:c,updateIntervalInMs:o});return await p.poll(),p}}function wa(e){function t(n,s){var a;if(((a=n==null?void 0:n.length)!==null&&a!==void 0?a:0)>1)throw new Error(`beginAnalyzeActions: Currently, the service can accept up to one action only for ${s} actions.`)}t(e.analyzeSentimentActions,"analyzeSentiment"),t(e.extractKeyPhrasesActions,"extractKeyPhrases"),t(e.recognizeEntitiesActions,"recognizeEntities"),t(e.recognizeLinkedEntitiesActions,"recognizeLinkedEntities"),t(e.recognizePiiEntitiesActions,"recognizePiiEntities")}function _a(e){var t,n,s,a,i;return{entityRecognitionPiiTasks:(t=e.recognizePiiEntitiesActions)===null||t===void 0?void 0:t.map(x(K,x(os,D))),entityRecognitionTasks:(n=e.recognizeEntitiesActions)===null||n===void 0?void 0:n.map(x(K,D)),keyPhraseExtractionTasks:(s=e.extractKeyPhrasesActions)===null||s===void 0?void 0:s.map(D),entityLinkingTasks:(a=e.recognizeLinkedEntitiesActions)===null||a===void 0?void 0:a.map(x(K,D)),sentimentAnalysisTasks:(i=e.analyzeSentimentActions)===null||i===void 0?void 0:i.map(x(K,x(rs,D)))}}function z(e){return typeof e[0]=="string"}function Da(e,t){return t==="none"&&(t=""),e.map((n,s)=>({id:String(s),countryHint:t,text:n}))}function k(e,t){return e.map((n,s)=>({id:String(s),language:t,text:n}))}function ja(e){return{abortSignal:e.abortSignal,opinionMining:e.includeOpinionMining,includeStatistics:e.includeStatistics,modelVersion:e.modelVersion,requestOptions:e.requestOptions,stringIndexType:F(e.stringIndexType),tracingOptions:e.tracingOptions,onResponse:e.onResponse,serializerOptions:e.serializerOptions,loggingOptOut:e.disableServiceLogs}}function La(e){return{abortSignal:e.abortSignal,domain:e.domainFilter,includeStatistics:e.includeStatistics,modelVersion:e.modelVersion,requestOptions:e.requestOptions,stringIndexType:F(e.stringIndexType),tracingOptions:e.tracingOptions,piiCategories:e.categoriesFilter,onResponse:e.onResponse,serializerOptions:e.serializerOptions,loggingOptOut:e.disableServiceLogs}}function Ma(e){return{abortSignal:e.abortSignal,includeStatistics:e.includeStatistics,modelVersion:e.modelVersion,requestOptions:e.requestOptions,stringIndexType:F(e.stringIndexType),tracingOptions:e.tracingOptions,onResponse:e.onResponse,serializerOptions:e.serializerOptions,loggingOptOut:e.disableServiceLogs}}function Ha(e){return{abortSignal:e.abortSignal,includeStatistics:e.includeStatistics,modelVersion:e.modelVersion,requestOptions:e.requestOptions,tracingOptions:e.tracingOptions,onResponse:e.onResponse,serializerOptions:e.serializerOptions,loggingOptOut:e.disableServiceLogs}}function Va(e){return{abortSignal:e.abortSignal,includeStatistics:e.includeStatistics,modelVersion:e.modelVersion,requestOptions:e.requestOptions,tracingOptions:e.tracingOptions,onResponse:e.onResponse,serializerOptions:e.serializerOptions,loggingOptOut:e.disableServiceLogs}}function Ba(e){return{abortSignal:e.abortSignal,includeStatistics:e.includeStatistics,modelVersion:e.modelVersion,requestOptions:e.requestOptions,tracingOptions:e.tracingOptions,onResponse:e.onResponse,serializerOptions:e.serializerOptions,loggingOptOut:e.disableServiceLogs,stringIndexType:F(e.stringIndexType)}}const $a=u("div",null,[u("textarea",{class:"textarea textarea-bordered w-1/2 h-24 max-h-48",placeholder:"I think Sophia does an outstanding job.",id:"inputtext"})],-1),Ka={class:"form-control"},Ua={class:"input-group"},Ga=u("option",{disabled:"",selected:""},"Pick the language you want to analyze",-1),Ja=u("option",null,"de",-1),Fa=u("option",null,"en",-1),Wa=u("option",null,"es",-1),Xa=u("option",null,"fr",-1),Ya=u("option",null,"hi",-1),Qa=[Ga,Ja,Fa,Wa,Xa,Ya],Za=u("div",null,[u("progress",{class:"progress progress-error w-56",id:"negative",max:"100"}),Se(),u("br"),u("progress",{class:"progress progress-warning w-56",id:"neutral",max:"100"}),Se(),u("br"),u("progress",{class:"progress progress-success w-56",id:"positive",max:"100"})],-1),ei=u("p",{id:"text"},null,-1),ri=Tt({__name:"LanguageView",setup(e){const t=At();var n="";const s="https://"+t.azureregion+".api.cognitive.microsoft.com";function a(){var r=document.getElementById("inputtext").value;i(r)}async function i(r){var l=[];l.push(r);const o=new qa(s,new Dt(t.apikey)),m=(await o.analyzeSentiment(l,n))[0];m.error?console.error(`  Error: ${m.error}`):(document.getElementById("negative").value=m.confidenceScores.negative*100,document.getElementById("neutral").value=m.confidenceScores.neutral*100,document.getElementById("positive").value=m.confidenceScores.positive*100);const p=await o.recognizeEntities(l);var y="The entities in this sentence are: ";for(let W=0;W<p[0].entities.length;W++){var Pt=JSON.stringify(p[0].entities[W].text);y=y.concat(Pt.slice(1,-1)+", ")}document.getElementById("text").innerHTML=y.slice(0,-2)}return(r,l)=>(bt(),zt(Ct,null,[$a,u("div",Ka,[u("div",Ua,[Et(u("select",{class:"select select-bordered","onUpdate:modelValue":l[0]||(l[0]=o=>vt(n)?n.value=o:n=o)},Qa,512),[[Ot,kt(n)]]),u("button",{class:"btn",onClick:a},"analyze")]),Za,ei])],64))}});export{ri as default};
